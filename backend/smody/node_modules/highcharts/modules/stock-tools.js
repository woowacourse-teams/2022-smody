/*
 Highstock JS v9.2.2 (2021-08-24)

 Advanced Highcharts Stock tools

 (c) 2010-2021 Highsoft AS
 Author: Torstein Honsi

 License: www.highcharts.com/license
*/
'use strict';(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/modules/stock-tools",["highcharts","highcharts/modules/stock"],function(w){a(w);a.Highcharts=w;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function w(d,a,u,x){d.hasOwnProperty(a)||(d[a]=x.apply(null,u))}a=a?a._modules:{};w(a,"Extensions/Annotations/Mixins/EventEmitterMixin.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],
function(d,a){var k=a.addEvent,x=a.fireEvent,q=a.objectEach,n=a.pick,c=a.removeEvent;return{addEvents:function(){var c=this,e=function(e){k(e,d.isTouchDevice?"touchstart":"mousedown",function(e){c.onMouseDown(e)},{passive:!1})};e(this.graphic.element);(c.labels||[]).forEach(function(c){c.options.useHTML&&c.graphic.text&&e(c.graphic.text.element)});q(c.options.events,function(e,d){var g=function(g){"click"===d&&c.cancelClick||e.call(c,c.chart.pointer.normalize(g),c.target)};if(-1===(c.nonDOMEvents||
[]).indexOf(d))c.graphic.on(d,g);else k(c,d,g,{passive:!1})});if(c.options.draggable&&(k(c,"drag",c.onDrag),!c.graphic.renderer.styledMode)){var z={cursor:{x:"ew-resize",y:"ns-resize",xy:"move"}[c.options.draggable]};c.graphic.css(z);(c.labels||[]).forEach(function(e){e.options.useHTML&&e.graphic.text&&e.graphic.text.css(z)})}c.isUpdating||x(c,"add")},removeDocEvents:function(){this.removeDrag&&(this.removeDrag=this.removeDrag());this.removeMouseUp&&(this.removeMouseUp=this.removeMouseUp())},onMouseDown:function(c){var e=
this,z=e.chart.pointer;c.preventDefault&&c.preventDefault();if(2!==c.button){c=z.normalize(c);var g=c.chartX;var m=c.chartY;e.cancelClick=!1;e.chart.hasDraggedAnnotation=!0;e.removeDrag=k(d.doc,d.isTouchDevice?"touchmove":"mousemove",function(c){e.hasDragged=!0;c=z.normalize(c);c.prevChartX=g;c.prevChartY=m;x(e,"drag",c);g=c.chartX;m=c.chartY},d.isTouchDevice?{passive:!1}:void 0);e.removeMouseUp=k(d.doc,d.isTouchDevice?"touchend":"mouseup",function(c){var g=n(e.target&&e.target.annotation,e.target);
g&&(g.cancelClick=e.hasDragged);e.cancelClick=e.hasDragged;e.hasDragged=!1;e.chart.hasDraggedAnnotation=!1;x(n(g,e),"afterUpdate");e.onMouseUp(c)},d.isTouchDevice?{passive:!1}:void 0)}},onMouseUp:function(c){var e=this.chart;c=this.target||this;var d=e.options.annotations;e=e.annotations.indexOf(c);this.removeDocEvents();d[e]=c.options},onDrag:function(c){if(this.chart.isInsidePlot(c.chartX-this.chart.plotLeft,c.chartY-this.chart.plotTop,{visiblePlotOnly:!0})){var e=this.mouseMoveToTranslation(c);
"x"===this.options.draggable&&(e.y=0);"y"===this.options.draggable&&(e.x=0);this.points.length?this.translate(e.x,e.y):(this.shapes.forEach(function(c){c.translate(e.x,e.y)}),this.labels.forEach(function(c){c.translate(e.x,e.y)}));this.redraw(!1)}},mouseMoveToRadians:function(c,e,d){var g=c.prevChartY-d,z=c.prevChartX-e;d=c.chartY-d;c=c.chartX-e;this.chart.inverted&&(e=z,z=g,g=e,e=c,c=d,d=e);return Math.atan2(d,c)-Math.atan2(g,z)},mouseMoveToTranslation:function(c){var e=c.chartX-c.prevChartX;c=c.chartY-
c.prevChartY;if(this.chart.inverted){var d=c;c=e;e=d}return{x:e,y:c}},mouseMoveToScale:function(c,e,d){e=(c.chartX-e||1)/(c.prevChartX-e||1);c=(c.chartY-d||1)/(c.prevChartY-d||1);this.chart.inverted&&(d=c,c=e,e=d);return{x:e,y:c}},destroy:function(){this.removeDocEvents();c(this);this.hcEvents=null}}});w(a,"Extensions/Annotations/ControlPoint.js",[a["Core/Utilities.js"],a["Extensions/Annotations/Mixins/EventEmitterMixin.js"]],function(d,a){var k=d.merge,x=d.pick;return function(){function d(d,c,D,
e){this.addEvents=a.addEvents;this.graphic=void 0;this.mouseMoveToRadians=a.mouseMoveToRadians;this.mouseMoveToScale=a.mouseMoveToScale;this.mouseMoveToTranslation=a.mouseMoveToTranslation;this.onDrag=a.onDrag;this.onMouseDown=a.onMouseDown;this.onMouseUp=a.onMouseUp;this.removeDocEvents=a.removeDocEvents;this.nonDOMEvents=["drag"];this.chart=d;this.target=c;this.options=D;this.index=x(D.index,e)}d.prototype.setVisibility=function(d){this.graphic.attr("visibility",d?"visible":"hidden");this.options.visible=
d};d.prototype.render=function(){var d=this.chart,c=this.options;this.graphic=d.renderer.symbol(c.symbol,0,0,c.width,c.height).add(d.controlPointsGroup).css(c.style);this.setVisibility(c.visible);this.addEvents()};d.prototype.redraw=function(d){this.graphic[d?"animate":"attr"](this.options.positioner.call(this,this.target))};d.prototype.destroy=function(){a.destroy.call(this);this.graphic&&(this.graphic=this.graphic.destroy());this.options=this.target=this.chart=null};d.prototype.update=function(d){var c=
this.chart,a=this.target,e=this.index;d=k(!0,this.options,d);this.destroy();this.constructor(c,a,d,e);this.render(c.controlPointsGroup);this.redraw()};return d}()});w(a,"Extensions/Annotations/MockPoint.js",[a["Core/Series/Series.js"],a["Core/Utilities.js"],a["Core/Axis/Axis.js"]],function(d,a,u){var k=a.defined,q=a.fireEvent;return function(){function a(c,a,e){this.y=this.x=this.ttBelow=this.plotY=this.plotX=this.negative=this.isInside=void 0;this.mock=!0;this.series={visible:!0,chart:c,getPlotBox:d.prototype.getPlotBox};
this.target=a||null;this.options=e;this.applyOptions(this.getOptions())}a.fromPoint=function(c){return new a(c.series.chart,null,{x:c.x,y:c.y,xAxis:c.series.xAxis,yAxis:c.series.yAxis})};a.pointToPixels=function(c,d){var e=c.series,a=e.chart,g=c.plotX,m=c.plotY;a.inverted&&(c.mock?(g=c.plotY,m=c.plotX):(g=a.plotWidth-c.plotY,m=a.plotHeight-c.plotX));e&&!d&&(c=e.getPlotBox(),g+=c.translateX,m+=c.translateY);return{x:g,y:m}};a.pointToOptions=function(c){return{x:c.x,y:c.y,xAxis:c.series.xAxis,yAxis:c.series.yAxis}};
a.prototype.hasDynamicOptions=function(){return"function"===typeof this.options};a.prototype.getOptions=function(){return this.hasDynamicOptions()?this.options(this.target):this.options};a.prototype.applyOptions=function(c){this.command=c.command;this.setAxis(c,"x");this.setAxis(c,"y");this.refresh()};a.prototype.setAxis=function(c,d){d+="Axis";c=c[d];var e=this.series.chart;this.series[d]=c instanceof u?c:k(c)?e[d][c]||e.get(c):null};a.prototype.toAnchor=function(){var c=[this.plotX,this.plotY,0,
0];this.series.chart.inverted&&(c[0]=this.plotY,c[1]=this.plotX);return c};a.prototype.getLabelConfig=function(){return{x:this.x,y:this.y,point:this}};a.prototype.isInsidePlot=function(){var c=this.plotX,d=this.plotY,e=this.series.xAxis,a=this.series.yAxis,g={x:c,y:d,isInsidePlot:!0};e&&(g.isInsidePlot=k(c)&&0<=c&&c<=e.len);a&&(g.isInsidePlot=g.isInsidePlot&&k(d)&&0<=d&&d<=a.len);q(this.series.chart,"afterIsInsidePlot",g);return g.isInsidePlot};a.prototype.refresh=function(){var c=this.series,d=c.xAxis;
c=c.yAxis;var e=this.getOptions();d?(this.x=e.x,this.plotX=d.toPixels(e.x,!0)):(this.x=null,this.plotX=e.x);c?(this.y=e.y,this.plotY=c.toPixels(e.y,!0)):(this.y=null,this.plotY=e.y);this.isInside=this.isInsidePlot()};a.prototype.translate=function(c,d,e,a){this.hasDynamicOptions()||(this.plotX+=e,this.plotY+=a,this.refreshOptions())};a.prototype.scale=function(c,d,e,a){if(!this.hasDynamicOptions()){var g=this.plotY*a;this.plotX=(1-e)*c+this.plotX*e;this.plotY=(1-a)*d+g;this.refreshOptions()}};a.prototype.rotate=
function(c,d,e){if(!this.hasDynamicOptions()){var a=Math.cos(e);e=Math.sin(e);var g=this.plotX,m=this.plotY;g-=c;m-=d;this.plotX=g*a-m*e+c;this.plotY=g*e+m*a+d;this.refreshOptions()}};a.prototype.refreshOptions=function(){var c=this.series,d=c.xAxis;c=c.yAxis;this.x=this.options.x=d?this.options.x=d.toValue(this.plotX,!0):this.plotX;this.y=this.options.y=c?c.toValue(this.plotY,!0):this.plotY};return a}()});w(a,"Extensions/Annotations/Mixins/ControllableMixin.js",[a["Extensions/Annotations/ControlPoint.js"],
a["Extensions/Annotations/MockPoint.js"],a["Core/Tooltip.js"],a["Core/Utilities.js"]],function(d,a,u,x){var k=x.isObject,n=x.isString,c=x.merge,D=x.splat;return{init:function(c,d,a){this.annotation=c;this.chart=c.chart;this.options=d;this.points=[];this.controlPoints=[];this.index=a;this.linkPoints();this.addControlPoints()},attr:function(){this.graphic.attr.apply(this.graphic,arguments)},getPointsOptions:function(){var c=this.options;return c.points||c.point&&D(c.point)},attrsFromOptions:function(c){var d=
this.constructor.attrsMap,e={},a,p=this.chart.styledMode;for(a in c){var r=d[a];!r||p&&-1!==["fill","stroke","stroke-width"].indexOf(r)||(e[r]=c[a])}return e},anchor:function(d){var e=d.series.getPlotBox(),a=d.series.chart,m=d.mock?d.toAnchor():u.prototype.getAnchor.call({chart:d.series.chart},d);m={x:m[0]+(this.options.x||0),y:m[1]+(this.options.y||0),height:m[2]||0,width:m[3]||0};return{relativePosition:m,absolutePosition:c(m,{x:m.x+(d.mock?e.translateX:a.plotLeft),y:m.y+(d.mock?e.translateY:a.plotTop)})}},
point:function(c,d){if(c&&c.series)return c;d&&null!==d.series||(k(c)?d=new a(this.chart,this,c):n(c)?d=this.chart.get(c)||null:"function"===typeof c&&(d=c.call(d,this),d=d.series?d:new a(this.chart,this,c)));return d},linkPoints:function(){var c=this.getPointsOptions(),d=this.points,a=c&&c.length||0,m;for(m=0;m<a;m++){var p=this.point(c[m],d[m]);if(!p){d.length=0;return}p.mock&&p.refresh();d[m]=p}return d},addControlPoints:function(){var a=this.options.controlPoints;(a||[]).forEach(function(e,g){e=
c(this.options.controlPointOptions,e);e.index||(e.index=g);a[g]=e;this.controlPoints.push(new d(this.chart,this,e))},this)},shouldBeDrawn:function(){return!!this.points.length},render:function(c){this.controlPoints.forEach(function(c){c.render()})},redraw:function(c){this.controlPoints.forEach(function(d){d.redraw(c)})},transform:function(c,d,a,m,p){if(this.chart.inverted){var e=d;d=a;a=e}this.points.forEach(function(e,f){this.transformPoint(c,d,a,m,p,f)},this)},transformPoint:function(c,d,g,m,p,
r){var e=this.points[r];e.mock||(e=this.points[r]=a.fromPoint(e));e[c](d,g,m,p)},translate:function(c,d){this.transform("translate",null,null,c,d)},translatePoint:function(c,d,a){this.transformPoint("translate",null,null,c,d,a)},translateShape:function(c,d){var a=this.annotation.chart,e=this.annotation.userOptions,p=a.annotations.indexOf(this.annotation);a=a.options.annotations[p];this.translatePoint(c,d,0);a[this.collection][this.index].point=this.options.point;e[this.collection][this.index].point=
this.options.point},rotate:function(c,d,a){this.transform("rotate",c,d,a)},scale:function(c,d,a,m){this.transform("scale",c,d,a,m)},setControlPointsVisibility:function(c){this.controlPoints.forEach(function(d){d.setVisibility(c)})},destroy:function(){this.graphic&&(this.graphic=this.graphic.destroy());this.tracker&&(this.tracker=this.tracker.destroy());this.controlPoints.forEach(function(c){c.destroy()});this.options=this.controlPoints=this.points=this.chart=null;this.annotation&&(this.annotation=
null)},update:function(d){var a=this.annotation;d=c(!0,this.options,d);var e=this.graphic.parentGroup;this.destroy();this.constructor(a,d,this.index);this.render(e);this.redraw()}}});w(a,"Extensions/Annotations/Mixins/MarkerMixin.js",[a["Core/Chart/Chart.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(d,a,u){function k(c){return function(d){this.attr(c,"url(#"+d+")")}}var q=u.addEvent,n=u.defined,c=u.merge,D=u.uniqueKey,e={arrow:{tagName:"marker",attributes:{id:"arrow",
refY:5,refX:9,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 0 L 10 5 L 0 10 Z","stroke-width":0}}]},"reverse-arrow":{tagName:"marker",attributes:{id:"reverse-arrow",refY:5,refX:1,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 5 L 10 0 L 10 10 Z","stroke-width":0}}]}};a.prototype.addMarker=function(d,a){var e={attributes:{id:d}},p={stroke:a.color||"none",fill:a.color||"rgba(0, 0, 0, 0.75)"};e.children=a.children&&a.children.map(function(d){return c(p,
d)});a=c(!0,{attributes:{markerWidth:20,markerHeight:20,refX:0,refY:0,orient:"auto"}},a,e);a=this.definition(a);a.id=d;return a};a={markerEndSetter:k("marker-end"),markerStartSetter:k("marker-start"),setItemMarkers:function(d){var a=d.options,e=d.chart,p=e.options.defs,r=a.fill,k=n(r)&&"none"!==r?r:a.stroke;["markerStart","markerEnd"].forEach(function(f){var b=a[f],h;if(b){for(h in p){var l=p[h];if((b===(l.attributes&&l.attributes.id)||b===l.id)&&"marker"===l.tagName){var t=l;break}}t&&(b=d[f]=e.renderer.addMarker((a.id||
D())+"-"+b,c(t,{color:k})),d.attr(f,b.getAttribute("id")))}})}};q(d,"afterGetContainer",function(){this.options.defs=c(e,this.options.defs||{})});return a});w(a,"Extensions/Annotations/Controllables/ControllablePath.js",[a["Extensions/Annotations/Mixins/ControllableMixin.js"],a["Core/Globals.js"],a["Extensions/Annotations/Mixins/MarkerMixin.js"],a["Core/Utilities.js"]],function(d,a,u,x){var k=x.extend,n="rgba(192,192,192,"+(a.svg?.0001:.002)+")";return function(){function c(c,a,n){this.addControlPoints=
d.addControlPoints;this.anchor=d.anchor;this.attr=d.attr;this.attrsFromOptions=d.attrsFromOptions;this.destroy=d.destroy;this.getPointsOptions=d.getPointsOptions;this.init=d.init;this.linkPoints=d.linkPoints;this.point=d.point;this.rotate=d.rotate;this.scale=d.scale;this.setControlPointsVisibility=d.setControlPointsVisibility;this.setMarkers=u.setItemMarkers;this.transform=d.transform;this.transformPoint=d.transformPoint;this.translate=d.translate;this.translatePoint=d.translatePoint;this.translateShape=
d.translateShape;this.update=d.update;this.type="path";this.init(c,a,n);this.collection="shapes"}c.prototype.toD=function(){var c=this.options.d;if(c)return"function"===typeof c?c.call(this):c;c=this.points;var d=c.length,a=d,g=c[0],m=a&&this.anchor(g).absolutePosition,p=0,r=[];if(m)for(r.push(["M",m.x,m.y]);++p<d&&a;)g=c[p],a=g.command||"L",m=this.anchor(g).absolutePosition,"M"===a?r.push([a,m.x,m.y]):"L"===a?r.push([a,m.x,m.y]):"Z"===a&&r.push([a]),a=g.series.visible;return a?this.chart.renderer.crispLine(r,
this.graphic.strokeWidth()):null};c.prototype.shouldBeDrawn=function(){return d.shouldBeDrawn.call(this)||!!this.options.d};c.prototype.render=function(c){var a=this.options,q=this.attrsFromOptions(a);this.graphic=this.annotation.chart.renderer.path([["M",0,0]]).attr(q).add(c);a.className&&this.graphic.addClass(a.className);this.tracker=this.annotation.chart.renderer.path([["M",0,0]]).addClass("highcharts-tracker-line").attr({zIndex:2}).add(c);this.annotation.chart.styledMode||this.tracker.attr({"stroke-linejoin":"round",
stroke:n,fill:n,"stroke-width":this.graphic.strokeWidth()+2*a.snap});d.render.call(this);k(this.graphic,{markerStartSetter:u.markerStartSetter,markerEndSetter:u.markerEndSetter});this.setMarkers(this)};c.prototype.redraw=function(c){var a=this.toD(),n=c?"animate":"attr";a?(this.graphic[n]({d:a}),this.tracker[n]({d:a})):(this.graphic.attr({d:"M 0 -9000000000"}),this.tracker.attr({d:"M 0 -9000000000"}));this.graphic.placed=this.tracker.placed=!!a;d.redraw.call(this,c)};c.attrsMap={dashStyle:"dashstyle",
strokeWidth:"stroke-width",stroke:"stroke",fill:"fill",zIndex:"zIndex"};return c}()});w(a,"Extensions/Annotations/Controllables/ControllableRect.js",[a["Extensions/Annotations/Mixins/ControllableMixin.js"],a["Extensions/Annotations/Controllables/ControllablePath.js"],a["Core/Utilities.js"]],function(d,a,u){var k=u.merge;return function(){function q(a,c,k){this.addControlPoints=d.addControlPoints;this.anchor=d.anchor;this.attr=d.attr;this.attrsFromOptions=d.attrsFromOptions;this.destroy=d.destroy;
this.getPointsOptions=d.getPointsOptions;this.init=d.init;this.linkPoints=d.linkPoints;this.point=d.point;this.rotate=d.rotate;this.scale=d.scale;this.setControlPointsVisibility=d.setControlPointsVisibility;this.shouldBeDrawn=d.shouldBeDrawn;this.transform=d.transform;this.transformPoint=d.transformPoint;this.translatePoint=d.translatePoint;this.translateShape=d.translateShape;this.update=d.update;this.type="rect";this.translate=d.translateShape;this.init(a,c,k);this.collection="shapes"}q.prototype.render=
function(a){var c=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.rect(0,-9E9,0,0).attr(c).add(a);d.render.call(this)};q.prototype.redraw=function(a){var c=this.anchor(this.points[0]).absolutePosition;if(c)this.graphic[a?"animate":"attr"]({x:c.x,y:c.y,width:this.options.width,height:this.options.height});else this.attr({x:0,y:-9E9});this.graphic.placed=!!c;d.redraw.call(this,a)};q.attrsMap=k(a.attrsMap,{width:"width",height:"height"});return q}()});w(a,"Extensions/Annotations/Controllables/ControllableCircle.js",
[a["Extensions/Annotations/Mixins/ControllableMixin.js"],a["Extensions/Annotations/Controllables/ControllablePath.js"],a["Core/Utilities.js"]],function(d,a,u){var k=u.merge;return function(){function q(a,c,k){this.addControlPoints=d.addControlPoints;this.anchor=d.anchor;this.attr=d.attr;this.attrsFromOptions=d.attrsFromOptions;this.destroy=d.destroy;this.getPointsOptions=d.getPointsOptions;this.init=d.init;this.linkPoints=d.linkPoints;this.point=d.point;this.rotate=d.rotate;this.scale=d.scale;this.setControlPointsVisibility=
d.setControlPointsVisibility;this.shouldBeDrawn=d.shouldBeDrawn;this.transform=d.transform;this.transformPoint=d.transformPoint;this.translatePoint=d.translatePoint;this.translateShape=d.translateShape;this.update=d.update;this.type="circle";this.translate=d.translateShape;this.init(a,c,k);this.collection="shapes"}q.prototype.render=function(a){var c=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.circle(0,-9E9,0).attr(c).add(a);d.render.call(this)};q.prototype.redraw=
function(a){var c=this.anchor(this.points[0]).absolutePosition;if(c)this.graphic[a?"animate":"attr"]({x:c.x,y:c.y,r:this.options.r});else this.graphic.attr({x:0,y:-9E9});this.graphic.placed=!!c;d.redraw.call(this,a)};q.prototype.setRadius=function(d){this.options.r=d};q.attrsMap=k(a.attrsMap,{r:"r"});return q}()});w(a,"Extensions/Annotations/Controllables/ControllableLabel.js",[a["Extensions/Annotations/Mixins/ControllableMixin.js"],a["Core/FormatUtilities.js"],a["Extensions/Annotations/MockPoint.js"],
a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Tooltip.js"],a["Core/Utilities.js"]],function(d,a,u,x,q,n){var c=a.format;a=x.prototype.symbols;var k=n.extend,e=n.isNumber,z=n.pick;n=function(){function a(c,a,e){this.addControlPoints=d.addControlPoints;this.attr=d.attr;this.attrsFromOptions=d.attrsFromOptions;this.destroy=d.destroy;this.getPointsOptions=d.getPointsOptions;this.init=d.init;this.linkPoints=d.linkPoints;this.point=d.point;this.rotate=d.rotate;this.scale=d.scale;this.setControlPointsVisibility=
d.setControlPointsVisibility;this.shouldBeDrawn=d.shouldBeDrawn;this.transform=d.transform;this.transformPoint=d.transformPoint;this.translateShape=d.translateShape;this.update=d.update;this.init(c,a,e);this.collection="labels"}a.alignedPosition=function(c,a){var d=c.align,e=c.verticalAlign,f=(a.x||0)+(c.x||0),b=(a.y||0)+(c.y||0),h,l;"right"===d?h=1:"center"===d&&(h=2);h&&(f+=(a.width-(c.width||0))/h);"bottom"===e?l=1:"middle"===e&&(l=2);l&&(b+=(a.height-(c.height||0))/l);return{x:Math.round(f),y:Math.round(b)}};
a.justifiedOptions=function(c,a,d,e){var f=d.align,b=d.verticalAlign,h=a.box?0:a.padding||0,l=a.getBBox();a={align:f,verticalAlign:b,x:d.x,y:d.y,width:a.width,height:a.height};d=(e.x||0)-c.plotLeft;e=(e.y||0)-c.plotTop;var t=d+h;0>t&&("right"===f?a.align="left":a.x=(a.x||0)-t);t=d+l.width-h;t>c.plotWidth&&("left"===f?a.align="right":a.x=(a.x||0)+c.plotWidth-t);t=e+h;0>t&&("bottom"===b?a.verticalAlign="top":a.y=(a.y||0)-t);t=e+l.height-h;t>c.plotHeight&&("top"===b?a.verticalAlign="bottom":a.y=(a.y||
0)+c.plotHeight-t);return a};a.prototype.translatePoint=function(c,a){d.translatePoint.call(this,c,a,0)};a.prototype.translate=function(c,a){var d=this.annotation.chart,e=this.annotation.userOptions,f=d.annotations.indexOf(this.annotation);f=d.options.annotations[f];d.inverted&&(d=c,c=a,a=d);this.options.x+=c;this.options.y+=a;f[this.collection][this.index].x=this.options.x;f[this.collection][this.index].y=this.options.y;e[this.collection][this.index].x=this.options.x;e[this.collection][this.index].y=
this.options.y};a.prototype.render=function(c){var e=this.options,g=this.attrsFromOptions(e),m=e.style;this.graphic=this.annotation.chart.renderer.label("",0,-9999,e.shape,null,null,e.useHTML,null,"annotation-label").attr(g).add(c);this.annotation.chart.styledMode||("contrast"===m.color&&(m.color=this.annotation.chart.renderer.getContrast(-1<a.shapesWithoutBackground.indexOf(e.shape)?"#FFFFFF":e.backgroundColor)),this.graphic.css(e.style).shadow(e.shadow));e.className&&this.graphic.addClass(e.className);
this.graphic.labelrank=e.labelrank;d.render.call(this)};a.prototype.redraw=function(a){var e=this.options,g=this.text||e.format||e.text,m=this.graphic,f=this.points[0];m.attr({text:g?c(g,f.getLabelConfig(),this.annotation.chart):e.formatter.call(f,this)});e=this.anchor(f);(g=this.position(e))?(m.alignAttr=g,g.anchorX=e.absolutePosition.x,g.anchorY=e.absolutePosition.y,m[a?"animate":"attr"](g)):m.attr({x:0,y:-9999});m.placed=!!g;d.redraw.call(this,a)};a.prototype.anchor=function(c){var a=d.anchor.apply(this,
arguments),e=this.options.x||0,g=this.options.y||0;a.absolutePosition.x-=e;a.absolutePosition.y-=g;a.relativePosition.x-=e;a.relativePosition.y-=g;return a};a.prototype.position=function(c){var d=this.graphic,e=this.annotation.chart,g=this.points[0],f=this.options,b=c.absolutePosition,h=c.relativePosition,l=g.series.visible&&u.prototype.isInsidePlot.call(g);c=d.width;c=void 0===c?0:c;var t=d.height;t=void 0===t?0:t;if(l){if(f.distance)var y=q.prototype.getPosition.call({chart:e,distance:z(f.distance,
16)},c,t,{plotX:h.x,plotY:h.y,negative:g.negative,ttBelow:g.ttBelow,h:h.height||h.width});else f.positioner?y=f.positioner.call(this):(g={x:b.x,y:b.y,width:0,height:0},y=a.alignedPosition(k(f,{width:c,height:t}),g),"justify"===this.options.overflow&&(y=a.alignedPosition(a.justifiedOptions(e,d,f,y),g)));f.crop&&(d=y.x-e.plotLeft,f=y.y-e.plotTop,l=e.isInsidePlot(d,f)&&e.isInsidePlot(d+c,f+t))}return l?y:null};a.attrsMap={backgroundColor:"fill",borderColor:"stroke",borderWidth:"stroke-width",zIndex:"zIndex",
borderRadius:"r",padding:"padding"};a.shapesWithoutBackground=["connector"];return a}();a.connector=function(c,a,d,k,n){var f=n&&n.anchorX;n=n&&n.anchorY;var b=d/2;if(e(f)&&e(n)){var h=[["M",f,n]];var l=a-n;0>l&&(l=-k-l);l<d&&(b=f<c+d/2?l:d-l);n>a+k?h.push(["L",c+b,a+k]):n<a?h.push(["L",c+b,a]):f<c?h.push(["L",c,a+k/2]):f>c+d&&h.push(["L",c+d,a+k/2])}return h||[]};return n});w(a,"Extensions/Annotations/Controllables/ControllableImage.js",[a["Extensions/Annotations/Controllables/ControllableLabel.js"],
a["Extensions/Annotations/Mixins/ControllableMixin.js"]],function(a,k){return function(){function d(a,d,n){this.addControlPoints=k.addControlPoints;this.anchor=k.anchor;this.attr=k.attr;this.attrsFromOptions=k.attrsFromOptions;this.destroy=k.destroy;this.getPointsOptions=k.getPointsOptions;this.init=k.init;this.linkPoints=k.linkPoints;this.point=k.point;this.rotate=k.rotate;this.scale=k.scale;this.setControlPointsVisibility=k.setControlPointsVisibility;this.shouldBeDrawn=k.shouldBeDrawn;this.transform=
k.transform;this.transformPoint=k.transformPoint;this.translatePoint=k.translatePoint;this.translateShape=k.translateShape;this.update=k.update;this.type="image";this.translate=k.translateShape;this.init(a,d,n);this.collection="shapes"}d.prototype.render=function(a){var d=this.attrsFromOptions(this.options),n=this.options;this.graphic=this.annotation.chart.renderer.image(n.src,0,-9E9,n.width,n.height).attr(d).add(a);this.graphic.width=n.width;this.graphic.height=n.height;k.render.call(this)};d.prototype.redraw=
function(d){var q=this.anchor(this.points[0]);if(q=a.prototype.position.call(this,q))this.graphic[d?"animate":"attr"]({x:q.x,y:q.y});else this.graphic.attr({x:0,y:-9E9});this.graphic.placed=!!q;k.redraw.call(this,d)};d.attrsMap={width:"width",height:"height",zIndex:"zIndex"};return d}()});w(a,"Extensions/Annotations/Annotations.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Chart/Chart.js"],a["Extensions/Annotations/Mixins/ControllableMixin.js"],a["Extensions/Annotations/Controllables/ControllableRect.js"],
a["Extensions/Annotations/Controllables/ControllableCircle.js"],a["Extensions/Annotations/Controllables/ControllablePath.js"],a["Extensions/Annotations/Controllables/ControllableImage.js"],a["Extensions/Annotations/Controllables/ControllableLabel.js"],a["Extensions/Annotations/ControlPoint.js"],a["Extensions/Annotations/Mixins/EventEmitterMixin.js"],a["Core/Globals.js"],a["Extensions/Annotations/MockPoint.js"],a["Core/Pointer.js"],a["Core/Utilities.js"],a["Core/Color/Palette.js"]],function(a,k,u,
x,q,n,c,D,e,z,g,m,p,r,w){var d=a.getDeferredAnimation;a=k.prototype;var b=r.addEvent,h=r.defined,l=r.destroyObjectProperties,t=r.erase,y=r.extend,G=r.find,C=r.fireEvent,v=r.merge,A=r.pick,F=r.splat;r=r.wrap;var B=function(){function b(b,a){this.annotation=void 0;this.coll="annotations";this.shapesGroup=this.labelsGroup=this.labelCollector=this.group=this.graphic=this.animationConfig=this.collection=void 0;this.chart=b;this.points=[];this.controlPoints=[];this.coll="annotations";this.labels=[];this.shapes=
[];this.options=v(this.defaultOptions,a);this.userOptions=a;a=this.getLabelsAndShapesOptions(this.options,a);this.options.labels=a.labels;this.options.shapes=a.shapes;this.init(b,this.options)}b.prototype.init=function(){var b=this.chart,a=this.options.animation;this.linkPoints();this.addControlPoints();this.addShapes();this.addLabels();this.setLabelCollector();this.animationConfig=d(b,a)};b.prototype.getLabelsAndShapesOptions=function(b,a){var c={};["labels","shapes"].forEach(function(d){b[d]&&(c[d]=
a[d]?F(a[d]).map(function(a,c){return v(b[d][c],a)}):b[d])});return c};b.prototype.addShapes=function(){(this.options.shapes||[]).forEach(function(b,a){b=this.initShape(b,a);v(!0,this.options.shapes[a],b.options)},this)};b.prototype.addLabels=function(){(this.options.labels||[]).forEach(function(b,a){b=this.initLabel(b,a);v(!0,this.options.labels[a],b.options)},this)};b.prototype.addClipPaths=function(){this.setClipAxes();this.clipXAxis&&this.clipYAxis&&(this.clipRect=this.chart.renderer.clipRect(this.getClipBox()))};
b.prototype.setClipAxes=function(){var b=this.chart.xAxis,a=this.chart.yAxis,c=(this.options.labels||[]).concat(this.options.shapes||[]).reduce(function(c,d){d=d&&(d.point||d.points&&d.points[0]);return[b[d&&d.xAxis]||c[0],a[d&&d.yAxis]||c[1]]},[]);this.clipXAxis=c[0];this.clipYAxis=c[1]};b.prototype.getClipBox=function(){if(this.clipXAxis&&this.clipYAxis)return{x:this.clipXAxis.left,y:this.clipYAxis.top,width:this.clipXAxis.width,height:this.clipYAxis.height}};b.prototype.setLabelCollector=function(){var b=
this;b.labelCollector=function(){return b.labels.reduce(function(b,a){a.options.allowOverlap||b.push(a.graphic);return b},[])};b.chart.labelCollectors.push(b.labelCollector)};b.prototype.setOptions=function(b){this.options=v(this.defaultOptions,b)};b.prototype.redraw=function(b){this.linkPoints();this.graphic||this.render();this.clipRect&&this.clipRect.animate(this.getClipBox());this.redrawItems(this.shapes,b);this.redrawItems(this.labels,b);u.redraw.call(this,b)};b.prototype.redrawItems=function(b,
a){for(var c=b.length;c--;)this.redrawItem(b[c],a)};b.prototype.renderItems=function(b){for(var a=b.length;a--;)this.renderItem(b[a])};b.prototype.render=function(){var b=this.chart.renderer;this.graphic=b.g("annotation").attr({opacity:0,zIndex:this.options.zIndex,visibility:this.options.visible?"visible":"hidden"}).add();this.shapesGroup=b.g("annotation-shapes").add(this.graphic).clip(this.chart.plotBoxClip);this.labelsGroup=b.g("annotation-labels").attr({translateX:0,translateY:0}).add(this.graphic);
this.addClipPaths();this.clipRect&&this.graphic.clip(this.clipRect);this.renderItems(this.shapes);this.renderItems(this.labels);this.addEvents();u.render.call(this)};b.prototype.setVisibility=function(b){var a=this.options,c=this.chart.navigationBindings;b=A(b,!a.visible);this.graphic.attr("visibility",b?"visible":"hidden");b||(this.setControlPointsVisibility(!1),c.activeAnnotation===this&&c.popup&&"annotation-toolbar"===c.popup.formType&&C(c,"closePopup"));a.visible=b};b.prototype.setControlPointsVisibility=
function(b){var a=function(a){a.setControlPointsVisibility(b)};u.setControlPointsVisibility.call(this,b);this.shapes.forEach(a);this.labels.forEach(a)};b.prototype.destroy=function(){var b=this.chart,a=function(b){b.destroy()};this.labels.forEach(a);this.shapes.forEach(a);this.clipYAxis=this.clipXAxis=null;t(b.labelCollectors,this.labelCollector);z.destroy.call(this);u.destroy.call(this);l(this,b)};b.prototype.remove=function(){return this.chart.removeAnnotation(this)};b.prototype.update=function(b,
a){var c=this.chart,d=this.getLabelsAndShapesOptions(this.userOptions,b),h=c.annotations.indexOf(this);b=v(!0,this.userOptions,b);b.labels=d.labels;b.shapes=d.shapes;this.destroy();this.constructor(c,b);c.options.annotations[h]=b;this.isUpdating=!0;A(a,!0)&&c.redraw();C(this,"afterUpdate");this.isUpdating=!1};b.prototype.initShape=function(a,c){a=v(this.options.shapeOptions,{controlPointOptions:this.options.controlPointOptions},a);c=new b.shapesMap[a.type](this,a,c);c.itemType="shape";this.shapes.push(c);
return c};b.prototype.initLabel=function(b,a){b=v(this.options.labelOptions,{controlPointOptions:this.options.controlPointOptions},b);a=new D(this,b,a);a.itemType="label";this.labels.push(a);return a};b.prototype.redrawItem=function(b,a){b.linkPoints();b.shouldBeDrawn()?(b.graphic||this.renderItem(b),b.redraw(A(a,!0)&&b.graphic.placed),b.points.length&&this.adjustVisibility(b)):this.destroyItem(b)};b.prototype.adjustVisibility=function(b){var a=!1,c=b.graphic;b.points.forEach(function(b){!1!==b.series.visible&&
!1!==b.visible&&(a=!0)});a?"hidden"===c.visibility&&c.show():c.hide()};b.prototype.destroyItem=function(b){t(this[b.itemType+"s"],b);b.destroy()};b.prototype.renderItem=function(b){b.render("label"===b.itemType?this.labelsGroup:this.shapesGroup)};b.ControlPoint=e;b.MockPoint=m;b.shapesMap={rect:x,circle:q,path:n,image:c};b.types={};return b}();v(!0,B.prototype,u,z,v(B.prototype,{nonDOMEvents:["add","afterUpdate","drag","remove"],defaultOptions:{visible:!0,animation:{},draggable:"xy",labelOptions:{align:"center",
allowOverlap:!1,backgroundColor:"rgba(0, 0, 0, 0.75)",borderColor:w.neutralColor100,borderRadius:3,borderWidth:1,className:"highcharts-no-tooltip",crop:!1,formatter:function(){return h(this.y)?this.y:"Annotation label"},includeInDataExport:!0,overflow:"justify",padding:5,shadow:!1,shape:"callout",style:{fontSize:"11px",fontWeight:"normal",color:"contrast"},useHTML:!1,verticalAlign:"bottom",x:0,y:-16},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:"rgba(0, 0, 0, 0.75)",r:0,snap:2},controlPointOptions:{symbol:"circle",
width:10,height:10,style:{stroke:w.neutralColor100,"stroke-width":2,fill:w.backgroundColor},visible:!1,events:{}},events:{},zIndex:6}}));g.extendAnnotation=function(b,a,c,d){a=a||B;y(b.prototype,v(a.prototype,c));b.prototype.defaultOptions=v(b.prototype.defaultOptions,d||{})};y(a,{initAnnotation:function(b){b=new (B.types[b.type]||B)(this,b);this.annotations.push(b);return b},addAnnotation:function(b,a){b=this.initAnnotation(b);this.options.annotations.push(b.options);A(a,!0)&&(b.redraw(),b.graphic.attr({opacity:1}));
return b},removeAnnotation:function(b){var a=this.annotations,c="annotations"===b.coll?b:G(a,function(a){return a.options.id===b});c&&(C(c,"remove"),t(this.options.annotations,c.options),t(a,c),c.destroy())},drawAnnotations:function(){this.plotBoxClip.attr(this.plotBox);this.annotations.forEach(function(b){b.redraw();b.graphic.animate({opacity:1},b.animationConfig)})}});a.collectionsWithUpdate.push("annotations");a.collectionsWithInit.annotations=[a.addAnnotation];b(k,"afterInit",function(){this.annotations=
[];this.options.annotations||(this.options.annotations=[])});a.callbacks.push(function(a){a.plotBoxClip=this.renderer.clipRect(this.plotBox);a.controlPointsGroup=a.renderer.g("control-points").attr({zIndex:99}).clip(a.plotBoxClip).add();a.options.annotations.forEach(function(b,c){if(!a.annotations.some(function(a){return a.options===b})){var d=a.initAnnotation(b);a.options.annotations[c]=d.options}});a.drawAnnotations();b(a,"redraw",a.drawAnnotations);b(a,"destroy",function(){a.plotBoxClip.destroy();
a.controlPointsGroup.destroy()});b(a,"exportData",function(b){var c=(this.options.exporting&&this.options.exporting.csv||{}).columnHeaderFormatter,d=!b.dataRows[1].xValues,h=a.options.lang&&a.options.lang.exportData&&a.options.lang.exportData.annotationHeader,l=function(b){if(c){var a=c(b);if(!1!==a)return a}a=h+" "+b;return d?{columnTitle:a,topLevelColumnTitle:a}:a},e=b.dataRows[0].length,f=a.options.exporting&&a.options.exporting.csv&&a.options.exporting.csv.annotations&&a.options.exporting.csv.annotations.itemDelimiter,
t=a.options.exporting&&a.options.exporting.csv&&a.options.exporting.csv.annotations&&a.options.exporting.csv.annotations.join;a.annotations.forEach(function(a){a.options.labelOptions.includeInDataExport&&a.labels.forEach(function(a){if(a.options.text){var c=a.options.text;a.points.forEach(function(a){var d=a.x,h=a.series.xAxis?a.series.xAxis.options.index:-1,l=!1;if(-1===h){a=b.dataRows[0].length;for(var v=Array(a),A=0;A<a;++A)v[A]="";v.push(c);v.xValues=[];v.xValues[h]=d;b.dataRows.push(v);l=!0}l||
b.dataRows.forEach(function(b,a){!l&&b.xValues&&void 0!==h&&d===b.xValues[h]&&(t&&b.length>e?b[b.length-1]+=f+c:b.push(c),l=!0)});if(!l){a=b.dataRows[0].length;v=Array(a);for(A=0;A<a;++A)v[A]="";v[0]=d;v.push(c);v.xValues=[];void 0!==h&&(v.xValues[h]=d);b.dataRows.push(v)}})}})});var v=0;b.dataRows.forEach(function(b){v=Math.max(v,b.length)});for(var A=v-b.dataRows[0].length,B=0;B<A;B++){var F=l(B+1);d?(b.dataRows[0].push(F.topLevelColumnTitle),b.dataRows[1].push(F.columnTitle)):b.dataRows[0].push(F)}})});
r(p.prototype,"onContainerMouseDown",function(b){this.chart.hasDraggedAnnotation||b.apply(this,Array.prototype.slice.call(arguments,1))});g.Annotation=B;"";return B});w(a,"Mixins/Navigation.js",[],function(){return{initUpdate:function(a){a.navigation||(a.navigation={updates:[],update:function(a,d){this.updates.forEach(function(k){k.update.call(k.context,a,d)})}})},addUpdate:function(a,k){k.navigation||this.initUpdate(k);k.navigation.updates.push({update:a,context:k})}}});w(a,"Extensions/Annotations/NavigationBindings.js",
[a["Extensions/Annotations/Annotations.js"],a["Core/Chart/Chart.js"],a["Mixins/Navigation.js"],a["Core/FormatUtilities.js"],a["Core/Globals.js"],a["Core/DefaultOptions.js"],a["Core/Utilities.js"]],function(a,k,u,x,q,n,c){function d(b,a){var c=G.Element.prototype,d=c.matches||c.msMatchesSelector||c.webkitMatchesSelector,h=null;if(c.closest)h=c.closest.call(b,a);else{do{if(d.call(b,a))return b;b=b.parentElement||b.parentNode}while(null!==b&&1===b.nodeType)}return h}function e(b){var a=b.prototype.defaultOptions.events&&
b.prototype.defaultOptions.events.click;h(!0,b.prototype.defaultOptions.events,{click:function(b){var c=this,d=c.chart.navigationBindings,h=d.activeAnnotation;a&&a.call(c,b);h!==c?(d.deselectAnnotation(),d.activeAnnotation=c,c.setControlPointsVisibility(!0),p(d,"showPopup",{annotation:c,formType:"annotation-toolbar",options:d.annotationToFields(c),onSubmit:function(b){var a={};"remove"===b.actionType?(d.activeAnnotation=!1,d.chart.removeAnnotation(c)):(d.fieldsToOptions(b.fields,a),d.deselectAnnotation(),
b=a.typeOptions,"measure"===c.options.type&&(b.crosshairY.enabled=0!==b.crosshairY.strokeWidth,b.crosshairX.enabled=0!==b.crosshairX.strokeWidth),c.update(a))}})):p(d,"closePopup");b.activeAnnotation=!0}})}var w=x.format;x=n.setOptions;var g=c.addEvent,m=c.attr,p=c.fireEvent,r=c.isArray,E=c.isFunction,f=c.isNumber,b=c.isObject,h=c.merge,l=c.objectEach,t=c.pick,y=q.doc,G=q.win,C=function(){function a(b,a){this.selectedButton=this.boundClassNames=void 0;this.chart=b;this.options=a;this.eventsToUnbind=
[];this.container=y.getElementsByClassName(this.options.bindingsClassName||"")}a.prototype.initEvents=function(){var b=this,a=b.chart,c=b.container,d=b.options;b.boundClassNames={};l(d.bindings||{},function(a){b.boundClassNames[a.className]=a});[].forEach.call(c,function(a){b.eventsToUnbind.push(g(a,"click",function(c){var d=b.getButtonEvents(a,c);d&&-1===d.button.className.indexOf("highcharts-disabled-btn")&&b.bindingsButtonClick(d.button,d.events,c)}))});l(d.events||{},function(a,c){E(a)&&b.eventsToUnbind.push(g(b,
c,a,{passive:!1}))});b.eventsToUnbind.push(g(a.container,"click",function(c){!a.cancelClick&&a.isInsidePlot(c.chartX-a.plotLeft,c.chartY-a.plotTop,{visiblePlotOnly:!0})&&b.bindingsChartClick(this,c)}));b.eventsToUnbind.push(g(a.container,q.isTouchDevice?"touchmove":"mousemove",function(a){b.bindingsContainerMouseMove(this,a)},q.isTouchDevice?{passive:!1}:void 0))};a.prototype.initUpdate=function(){var b=this;u.addUpdate(function(a){b.update(a)},this.chart)};a.prototype.bindingsButtonClick=function(b,
a,c){var d=this.chart;this.selectedButtonElement&&(p(this,"deselectButton",{button:this.selectedButtonElement}),this.nextEvent&&(this.currentUserDetails&&"annotations"===this.currentUserDetails.coll&&d.removeAnnotation(this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1));this.selectedButton=a;this.selectedButtonElement=b;p(this,"selectButton",{button:b});a.init&&a.init.call(this,b,c);(a.start||a.steps)&&d.renderer.boxWrapper.addClass("highcharts-draw-mode")};a.prototype.bindingsChartClick=
function(b,a){b=this.chart;var c=this.activeAnnotation,h=this.selectedButton;b=b.renderer.boxWrapper;c&&(c.cancelClick||a.activeAnnotation||!a.target.parentNode||d(a.target,".highcharts-popup")?c.cancelClick&&setTimeout(function(){c.cancelClick=!1},0):p(this,"closePopup"));h&&h.start&&(this.nextEvent?(this.nextEvent(a,this.currentUserDetails),this.steps&&(this.stepIndex++,h.steps[this.stepIndex]?this.mouseMoveEvent=this.nextEvent=h.steps[this.stepIndex]:(p(this,"deselectButton",{button:this.selectedButtonElement}),
b.removeClass("highcharts-draw-mode"),h.end&&h.end.call(this,a,this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1,this.selectedButton=null))):(this.currentUserDetails=h.start.call(this,a))&&h.steps?(this.stepIndex=0,this.steps=!0,this.mouseMoveEvent=this.nextEvent=h.steps[this.stepIndex]):(p(this,"deselectButton",{button:this.selectedButtonElement}),b.removeClass("highcharts-draw-mode"),this.steps=!1,this.selectedButton=null,h.end&&h.end.call(this,a,this.currentUserDetails)))};a.prototype.bindingsContainerMouseMove=
function(b,a){this.mouseMoveEvent&&this.mouseMoveEvent(a,this.currentUserDetails)};a.prototype.fieldsToOptions=function(b,a){l(b,function(b,c){var d=parseFloat(b),h=c.split("."),l=a,e=h.length-1;!f(d)||b.match(/px/g)||c.match(/format/g)||(b=d);""!==b&&"undefined"!==b&&h.forEach(function(a,c){var d=t(h[c+1],"");e===c?l[a]=b:(l[a]||(l[a]=d.match(/\d/g)?[]:{}),l=l[a])})});return a};a.prototype.deselectAnnotation=function(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),
this.activeAnnotation=!1)};a.prototype.annotationToFields=function(c){function d(a,h,e,t){if(e&&a&&-1===A.indexOf(h)&&(0<=(e.indexOf&&e.indexOf(h))||e[h]||!0===e))if(r(a))t[h]=[],a.forEach(function(a,c){b(a)?(t[h][c]={},l(a,function(b,a){d(b,a,f[h],t[h][c])})):d(a,0,f[h],t[h])});else if(b(a)){var g={};r(t)?(t.push(g),g[h]={},g=g[h]):t[h]=g;l(a,function(b,a){d(b,a,0===h?e:f[h],g)})}else"format"===h?t[h]=[w(a,c.labels[0].points[0]).toString(),"text"]:r(t)?t.push([a,v(a)]):t[h]=[a,v(a)]}var h=c.options,
e=a.annotationsEditable,f=e.nestedOptions,v=this.utils.getFieldType,g=t(h.type,h.shapes&&h.shapes[0]&&h.shapes[0].type,h.labels&&h.labels[0]&&h.labels[0].itemType,"label"),A=a.annotationsNonEditable[h.langKey]||[],y={langKey:h.langKey,type:g};l(h,function(b,a){"typeOptions"===a?(y[a]={},l(h[a],function(b,c){d(b,c,f,y[a],!0)})):d(b,a,e[g],y)});return y};a.prototype.getClickedClassNames=function(b,a){var c=a.target;a=[];for(var d;c&&((d=m(c,"class"))&&(a=a.concat(d.split(" ").map(function(b){return[b,
c]}))),c=c.parentNode,c!==b););return a};a.prototype.getButtonEvents=function(b,a){var c=this,d;this.getClickedClassNames(b,a).forEach(function(b){c.boundClassNames[b[0]]&&!d&&(d={events:c.boundClassNames[b[0]],button:b[1]})});return d};a.prototype.update=function(b){this.options=h(!0,this.options,b);this.removeEvents();this.initEvents()};a.prototype.removeEvents=function(){this.eventsToUnbind.forEach(function(b){b()})};a.prototype.destroy=function(){this.removeEvents()};a.annotationsEditable={nestedOptions:{labelOptions:["style",
"format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],verticalLine:[],
label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:["shapes","labelOptions"]};a.annotationsNonEditable={rectangle:["crosshairX","crosshairY","label"]};return a}();C.prototype.utils={getFieldType:function(b){return{string:"text",number:"number","boolean":"checkbox"}[typeof b]},updateRectSize:function(b,a){var c=a.chart,d=a.options.typeOptions,
h=f(d.xAxis)&&c.xAxis[d.xAxis],l=f(d.yAxis)&&c.yAxis[d.yAxis];h&&l&&(h=h.toValue(b[h.horiz?"chartX":"chartY"]),b=l.toValue(b[l.horiz?"chartX":"chartY"]),l=h-d.point.x,d=d.point.y-b,a.update({typeOptions:{background:{width:c.inverted?d:l,height:c.inverted?l:d}}}))},getAssignedAxis:function(b){return b.filter(function(b){var a=b.axis.min,c=b.axis.max,d=t(b.axis.minPointOffset,0);return f(a)&&f(c)&&b.value>=a-d&&b.value<=c+d&&!b.axis.options.isInternal})[0]}};k.prototype.initNavigationBindings=function(){var b=
this.options;b&&b.navigation&&b.navigation.bindings&&(this.navigationBindings=new C(this,b.navigation),this.navigationBindings.initEvents(),this.navigationBindings.initUpdate())};g(k,"load",function(){this.initNavigationBindings()});g(k,"destroy",function(){this.navigationBindings&&this.navigationBindings.destroy()});g(C,"deselectButton",function(){this.selectedButtonElement=null});g(a,"remove",function(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()});q.Annotation&&
(e(a),l(a.types,function(b){e(b)}));x({lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",
style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(b){var a=this.chart.pointer.getCoordinates(b);b=this.utils.getAssignedAxis(a.xAxis);a=this.utils.getAssignedAxis(a.yAxis);var c=this.chart.options.navigation;if(b&&a)return this.chart.addAnnotation(h({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",
point:{x:b.value,y:a.value,xAxis:b.axis.options.index,yAxis:a.axis.options.index},r:5}]},c.annotationsOptions,c.bindings.circleAnnotation.annotationsOptions))},steps:[function(b,a){var c=a.options.shapes[0].point,d=this.chart.inverted;if(f(c.xAxis)&&f(c.yAxis)){var h=this.chart.xAxis[c.xAxis].toPixels(c.x);c=this.chart.yAxis[c.yAxis].toPixels(c.y);h=Math.max(Math.sqrt(Math.pow(d?c-b.chartX:h-b.chartX,2)+Math.pow(d?h-b.chartY:c-b.chartY,2)),5)}a.update({shapes:[{r:h}]})}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",
start:function(b){b=this.chart.pointer.getCoordinates(b);var a=this.utils.getAssignedAxis(b.xAxis),c=this.utils.getAssignedAxis(b.yAxis);if(a&&c){b=a.value;var d=c.value;a=a.axis.options.index;c=c.axis.options.index;var l=this.chart.options.navigation;return this.chart.addAnnotation(h({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:a,yAxis:c,x:b,y:d},{xAxis:a,yAxis:c,x:b,y:d},{xAxis:a,yAxis:c,x:b,y:d},{xAxis:a,yAxis:c,x:b,y:d}]}]},l.annotationsOptions,l.bindings.rectangleAnnotation.annotationsOptions))}},
steps:[function(b,a){var c=a.options.shapes[0].points,d=this.chart.pointer.getCoordinates(b);b=this.utils.getAssignedAxis(d.xAxis);d=this.utils.getAssignedAxis(d.yAxis);b&&d&&(b=b.value,d=d.value,c[1].x=b,c[2].x=b,c[2].y=d,c[3].y=d,a.update({shapes:[{points:c}]}))}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(b){var a=this.chart.pointer.getCoordinates(b);b=this.utils.getAssignedAxis(a.xAxis);a=this.utils.getAssignedAxis(a.yAxis);var c=this.chart.options.navigation;if(b&&
a)return this.chart.addAnnotation(h({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}"},labels:[{point:{xAxis:b.axis.options.index,yAxis:a.axis.options.index,x:b.value,y:a.value},overflow:"none",crop:!0}]},c.annotationsOptions,c.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}}});g(k,"render",function(){var b=this,a=b.navigationBindings;if(b&&a){var c=!1;b.series.forEach(function(b){!b.options.isInternal&&b.visible&&(c=!0)});l(a.boundClassNames,
function(a,d){if(b.navigationBindings&&b.navigationBindings.container&&b.navigationBindings.container[0]&&(d=b.navigationBindings.container[0].querySelectorAll("."+d)))for(var h=0;h<d.length;h++){var l=d[h];"normal"===a.noDataState?-1!==l.className.indexOf("highcharts-disabled-btn")&&l.classList.remove("highcharts-disabled-btn"):c?-1!==l.className.indexOf("highcharts-disabled-btn")&&l.classList.remove("highcharts-disabled-btn"):-1===l.className.indexOf("highcharts-disabled-btn")&&(l.className+=" highcharts-disabled-btn")}})}});
g(C,"closePopup",function(){this.deselectAnnotation()});return C});w(a,"Stock/StockToolsBindings.js",[a["Core/Globals.js"],a["Extensions/Annotations/NavigationBindings.js"],a["Core/DefaultOptions.js"],a["Core/Series/Series.js"],a["Core/Utilities.js"],a["Core/Color/Palette.js"]],function(a,k,u,x,q,n){var c=u.getOptions;u=u.setOptions;var d=q.correctFloat,e=q.defined,w=q.extend,g=q.fireEvent,m=q.isNumber,p=q.merge,r=q.pick,E=q.uniqueKey,f=k.prototype.utils;f.addFlagFromForm=function(b){return function(a){var c=
this,d=c.chart,h=d.stockTools,e=f.getFieldType;a=f.attractToPoint(a,d);if(a){var k={type:"flags",onSeries:a.series.id,shape:b,data:[{x:a.x,y:a.y}],xAxis:a.xAxis,yAxis:a.yAxis,point:{events:{click:function(){var b=this,a=b.options;g(c,"showPopup",{point:b,formType:"annotation-toolbar",options:{langKey:"flags",type:"flags",title:[a.title,e(a.title)],name:[a.name,e(a.name)]},onSubmit:function(a){"remove"===a.actionType?b.remove():b.update(c.fieldsToOptions(a.fields,{}))}})}}}};h&&h.guiEnabled||d.addSeries(k);
g(c,"showPopup",{formType:"flag",options:{langKey:"flags",type:"flags",title:["A",e("A")],name:["Flag A",e("Flag A")]},onSubmit:function(b){c.fieldsToOptions(b.fields,k.data[0]);d.addSeries(k)}})}}};f.indicatorsWithAxes="ad atr cci cmf disparityindex cmo dmi macd mfi roc rsi ao aroon aroonoscillator trix apo dpo ppo natr obv williamsr stochastic slowstochastic linearRegression linearRegressionSlope linearRegressionIntercept linearRegressionAngle klinger".split(" ");f.manageIndicators=function(b){var a=
this.chart,d={linkedTo:b.linkedTo,type:b.type},t="ad cmf klinger mfi obv vbp vwap".split(" "),y=f.indicatorsWithAxes;if("edit"===b.actionType)this.fieldsToOptions(b.fields,d),(b=a.get(b.seriesId))&&b.update(d,!1);else if("remove"===b.actionType){if(b=a.get(b.seriesId)){var k=b.yAxis;b.linkedSeries&&b.linkedSeries.forEach(function(b){b.remove(!1)});b.remove(!1);0<=y.indexOf(b.type)&&(d=k.options.height,k.remove(!1),this.resizeYAxes(d))}}else{d.id=E();this.fieldsToOptions(b.fields,d);k=a.get(d.linkedTo);
var n=c().plotOptions;"undefined"!==typeof k&&k instanceof x&&"sum"===k.getDGApproximation()&&!e(n&&n[d.type]&&n.dataGrouping&&n.dataGrouping.approximation)&&(d.dataGrouping={approximation:"sum"});0<=y.indexOf(b.type)?(k=a.addAxis({id:E(),offset:0,opposite:!0,title:{text:""},tickPixelInterval:40,showLastLabel:!1,labels:{align:"left",y:-2}},!1,!1),d.yAxis=k.options.id,this.resizeYAxes()):d.yAxis=a.get(b.linkedTo).options.yAxis;0<=t.indexOf(b.type)&&(d.params.volumeSeriesID=a.series.filter(function(b){return"column"===
b.options.type})[0].options.id);a.addSeries(d,!1)}g(this,"deselectButton",{button:this.selectedButtonElement});a.redraw()};f.updateHeight=function(b,a){var c=a.options.typeOptions,d=m(c.yAxis)&&this.chart.yAxis[c.yAxis];d&&c.points&&a.update({typeOptions:{height:d.toValue(b[d.horiz?"chartX":"chartY"])-(c.points[1].y||0)}})};f.attractToPoint=function(b,a){b=a.pointer.getCoordinates(b);var c=Number.MAX_VALUE,d;if(a.navigationBindings){var h=a.navigationBindings.utils.getAssignedAxis(b.xAxis);var e=
a.navigationBindings.utils.getAssignedAxis(b.yAxis)}if(h&&e){var f=h.value;a=e.value;e.axis.series.forEach(function(b){b.points&&b.points.forEach(function(b){b&&c>Math.abs(b.x-f)&&(c=Math.abs(b.x-f),d=b)})});if(d&&d.x&&d.y)return{x:d.x,y:d.y,below:a<d.y,series:d.series,xAxis:d.series.xAxis.options.index||0,yAxis:d.series.yAxis.options.index||0}}};f.isNotNavigatorYAxis=function(b){return"highcharts-navigator-yaxis"!==b.userOptions.className};f.isPriceIndicatorEnabled=function(b){return b.some(function(b){return b.lastVisiblePrice||
b.lastPrice})};f.updateNthPoint=function(b){return function(a,c){var d=c.options.typeOptions,h=m(d.xAxis)&&this.chart.xAxis[d.xAxis],l=m(d.yAxis)&&this.chart.yAxis[d.yAxis];h&&l&&(d.points.forEach(function(c,d){d>=b&&(c.x=h.toValue(a[h.horiz?"chartX":"chartY"]),c.y=l.toValue(a[l.horiz?"chartX":"chartY"]))}),c.update({typeOptions:{points:d.points}}))}};w(k.prototype,{getYAxisPositions:function(b,a,c,f){function h(b){return e(b)&&!m(b)&&b.match("%")}var l=0,t,g;f&&(g=d(parseFloat(f)/100));return{positions:b.map(function(e,
f){var k=d(h(e.options.height)?parseFloat(e.options.height)/100:e.height/a);e=d(h(e.options.top)?parseFloat(e.options.top)/100:(e.top-e.chart.plotTop)/a);g?e<=l?l=d(Math.max(l,(e||0)+(k||0))):(e=d(e-g),l=d(l+k)):(m(k)||(k=b[f-1].series.every(function(b){return b.is("sma")})?t:c/100),m(e)||(e=l),t=k,l=d(Math.max(l,(e||0)+(k||0))));return{height:100*k,top:100*e}}),allAxesHeight:l}},getYAxisResizers:function(b){var a=[];b.forEach(function(c,d){c=b[d+1];a[d]=c?{enabled:!0,controlledAxis:{next:[r(c.options.id,
c.options.index)]}}:{enabled:!1}});return a},resizeYAxes:function(b){var a=this.chart,c=a.yAxis.filter(f.isNotNavigatorYAxis);a=this.getYAxisPositions(c,a.plotHeight,20,b);var e=a.positions,g=a.allAxesHeight,k=this.getYAxisResizers(c);!b&&g<=d(1)?e[e.length-1]={height:20,top:d(100*g-20)}:e.forEach(function(b){b.height=b.height/(100*g)*100;b.top=b.top/(100*g)*100});e.forEach(function(b,a){c[a].update({height:b.height+"%",top:b.top+"%",resize:k[a],offset:0},!1)})},recalculateYAxisPositions:function(b,
a,c,e){b.forEach(function(h,l){l=b[l-1];h.top=l?d(l.height+l.top):0;c&&(h.height=d(h.height+e*a))});return b}});q={segment:{className:"highcharts-segment",start:function(b){var a=this.chart.pointer.getCoordinates(b);b=this.utils.getAssignedAxis(a.xAxis);a=this.utils.getAssignedAxis(a.yAxis);var c=this.chart.options.navigation;if(b&&a)return b=p({langKey:"segment",type:"crookedLine",typeOptions:{xAxis:b.axis.options.index,yAxis:a.axis.options.index,points:[{x:b.value,y:a.value},{x:b.value,y:a.value}]}},
c.annotationsOptions,c.bindings.segment.annotationsOptions),this.chart.addAnnotation(b)},steps:[f.updateNthPoint(1)]},arrowSegment:{className:"highcharts-arrow-segment",start:function(b){var a=this.chart.pointer.getCoordinates(b);b=this.utils.getAssignedAxis(a.xAxis);a=this.utils.getAssignedAxis(a.yAxis);var c=this.chart.options.navigation;if(b&&a)return b=p({langKey:"arrowSegment",type:"crookedLine",typeOptions:{line:{markerEnd:"arrow"},xAxis:b.axis.options.index,yAxis:a.axis.options.index,points:[{x:b.value,
y:a.value},{x:b.value,y:a.value}]}},c.annotationsOptions,c.bindings.arrowSegment.annotationsOptions),this.chart.addAnnotation(b)},steps:[f.updateNthPoint(1)]},ray:{className:"highcharts-ray",start:function(b){var a=this.chart.pointer.getCoordinates(b);b=this.utils.getAssignedAxis(a.xAxis);a=this.utils.getAssignedAxis(a.yAxis);var c=this.chart.options.navigation;if(b&&a)return b=p({langKey:"ray",type:"infinityLine",typeOptions:{type:"ray",xAxis:b.axis.options.index,yAxis:a.axis.options.index,points:[{x:b.value,
y:a.value},{x:b.value,y:a.value}]}},c.annotationsOptions,c.bindings.ray.annotationsOptions),this.chart.addAnnotation(b)},steps:[f.updateNthPoint(1)]},arrowRay:{className:"highcharts-arrow-ray",start:function(b){var a=this.chart.pointer.getCoordinates(b);b=this.utils.getAssignedAxis(a.xAxis);a=this.utils.getAssignedAxis(a.yAxis);var c=this.chart.options.navigation;if(b&&a)return b=p({langKey:"arrowRay",type:"infinityLine",typeOptions:{type:"ray",line:{markerEnd:"arrow"},xAxis:b.axis.options.index,
yAxis:a.axis.options.index,points:[{x:b.value,y:a.value},{x:b.value,y:a.value}]}},c.annotationsOptions,c.bindings.arrowRay.annotationsOptions),this.chart.addAnnotation(b)},steps:[f.updateNthPoint(1)]},infinityLine:{className:"highcharts-infinity-line",start:function(b){var a=this.chart.pointer.getCoordinates(b);b=this.utils.getAssignedAxis(a.xAxis);a=this.utils.getAssignedAxis(a.yAxis);var c=this.chart.options.navigation;if(b&&a)return b=p({langKey:"infinityLine",type:"infinityLine",typeOptions:{type:"line",
xAxis:b.axis.options.index,yAxis:a.axis.options.index,points:[{x:b.value,y:a.value},{x:b.value,y:a.value}]}},c.annotationsOptions,c.bindings.infinityLine.annotationsOptions),this.chart.addAnnotation(b)},steps:[f.updateNthPoint(1)]},arrowInfinityLine:{className:"highcharts-arrow-infinity-line",start:function(b){var a=this.chart.pointer.getCoordinates(b);b=this.utils.getAssignedAxis(a.xAxis);a=this.utils.getAssignedAxis(a.yAxis);var c=this.chart.options.navigation;if(b&&a)return b=p({langKey:"arrowInfinityLine",
type:"infinityLine",typeOptions:{type:"line",line:{markerEnd:"arrow"},xAxis:b.axis.options.index,yAxis:a.axis.options.index,points:[{x:b.value,y:a.value},{x:b.value,y:a.value}]}},c.annotationsOptions,c.bindings.arrowInfinityLine.annotationsOptions),this.chart.addAnnotation(b)},steps:[f.updateNthPoint(1)]},horizontalLine:{className:"highcharts-horizontal-line",start:function(b){var a=this.chart.pointer.getCoordinates(b);b=this.utils.getAssignedAxis(a.xAxis);a=this.utils.getAssignedAxis(a.yAxis);var c=
this.chart.options.navigation;b&&a&&(b=p({langKey:"horizontalLine",type:"infinityLine",draggable:"y",typeOptions:{type:"horizontalLine",xAxis:b.axis.options.index,yAxis:a.axis.options.index,points:[{x:b.value,y:a.value}]}},c.annotationsOptions,c.bindings.horizontalLine.annotationsOptions),this.chart.addAnnotation(b))}},verticalLine:{className:"highcharts-vertical-line",start:function(b){var a=this.chart.pointer.getCoordinates(b);b=this.utils.getAssignedAxis(a.xAxis);a=this.utils.getAssignedAxis(a.yAxis);
var c=this.chart.options.navigation;b&&a&&(b=p({langKey:"verticalLine",type:"infinityLine",draggable:"x",typeOptions:{type:"verticalLine",xAxis:b.axis.options.index,yAxis:a.axis.options.index,points:[{x:b.value,y:a.value}]}},c.annotationsOptions,c.bindings.verticalLine.annotationsOptions),this.chart.addAnnotation(b))}},crooked3:{className:"highcharts-crooked3",start:function(b){var a=this.chart.pointer.getCoordinates(b);b=this.utils.getAssignedAxis(a.xAxis);a=this.utils.getAssignedAxis(a.yAxis);if(b&&
a){var c=b.value,d=a.value,e=this.chart.options.navigation;b=p({langKey:"crooked3",type:"crookedLine",typeOptions:{xAxis:b.axis.options.index,yAxis:a.axis.options.index,points:[{x:c,y:d},{x:c,y:d},{x:c,y:d}]}},e.annotationsOptions,e.bindings.crooked3.annotationsOptions);return this.chart.addAnnotation(b)}},steps:[f.updateNthPoint(1),f.updateNthPoint(2)]},crooked5:{className:"highcharts-crooked5",start:function(a){var b=this.chart.pointer.getCoordinates(a);a=this.utils.getAssignedAxis(b.xAxis);b=this.utils.getAssignedAxis(b.yAxis);
if(a&&b){var c=a.value,d=b.value,e=this.chart.options.navigation;a=p({langKey:"crookedLine",type:"crookedLine",typeOptions:{xAxis:a.axis.options.index,yAxis:b.axis.options.index,points:[{x:c,y:d},{x:c,y:d},{x:c,y:d},{x:c,y:d},{x:c,y:d}]}},e.annotationsOptions,e.bindings.crooked5.annotationsOptions);return this.chart.addAnnotation(a)}},steps:[f.updateNthPoint(1),f.updateNthPoint(2),f.updateNthPoint(3),f.updateNthPoint(4)]},elliott3:{className:"highcharts-elliott3",start:function(a){var b=this.chart.pointer.getCoordinates(a);
a=this.utils.getAssignedAxis(b.xAxis);b=this.utils.getAssignedAxis(b.yAxis);if(a&&b){var c=a.value,d=b.value,e=this.chart.options.navigation;a=p({langKey:"elliott3",type:"elliottWave",typeOptions:{xAxis:a.axis.options.index,yAxis:b.axis.options.index,points:[{x:c,y:d},{x:c,y:d},{x:c,y:d},{x:c,y:d}]},labelOptions:{style:{color:n.neutralColor60}}},e.annotationsOptions,e.bindings.elliott3.annotationsOptions);return this.chart.addAnnotation(a)}},steps:[f.updateNthPoint(1),f.updateNthPoint(2),f.updateNthPoint(3)]},
elliott5:{className:"highcharts-elliott5",start:function(a){var b=this.chart.pointer.getCoordinates(a);a=this.utils.getAssignedAxis(b.xAxis);b=this.utils.getAssignedAxis(b.yAxis);if(a&&b){var c=a.value,d=b.value,e=this.chart.options.navigation;a=p({langKey:"elliott5",type:"elliottWave",typeOptions:{xAxis:a.axis.options.index,yAxis:b.axis.options.index,points:[{x:c,y:d},{x:c,y:d},{x:c,y:d},{x:c,y:d},{x:c,y:d},{x:c,y:d}]},labelOptions:{style:{color:n.neutralColor60}}},e.annotationsOptions,e.bindings.elliott5.annotationsOptions);
return this.chart.addAnnotation(a)}},steps:[f.updateNthPoint(1),f.updateNthPoint(2),f.updateNthPoint(3),f.updateNthPoint(4),f.updateNthPoint(5)]},measureX:{className:"highcharts-measure-x",start:function(a){var b=this.chart.pointer.getCoordinates(a);a=this.utils.getAssignedAxis(b.xAxis);b=this.utils.getAssignedAxis(b.yAxis);if(a&&b){var c=this.chart.options.navigation;a=p({langKey:"measure",type:"measure",typeOptions:{selectType:"x",xAxis:a.axis.options.index,yAxis:b.axis.options.index,point:{x:a.value,
y:b.value},crosshairX:{strokeWidth:1,stroke:n.neutralColor100},crosshairY:{enabled:!1,strokeWidth:0,stroke:n.neutralColor100},background:{width:0,height:0,strokeWidth:0,stroke:n.backgroundColor}},labelOptions:{style:{color:n.neutralColor60}}},c.annotationsOptions,c.bindings.measureX.annotationsOptions);return this.chart.addAnnotation(a)}},steps:[f.updateRectSize]},measureY:{className:"highcharts-measure-y",start:function(a){var b=this.chart.pointer.getCoordinates(a);a=this.utils.getAssignedAxis(b.xAxis);
b=this.utils.getAssignedAxis(b.yAxis);if(a&&b){var c=this.chart.options.navigation;a=p({langKey:"measure",type:"measure",typeOptions:{selectType:"y",xAxis:a.axis.options.index,yAxis:b.axis.options.index,point:{x:a.value,y:b.value},crosshairX:{enabled:!1,strokeWidth:0,stroke:n.neutralColor100},crosshairY:{strokeWidth:1,stroke:n.neutralColor100},background:{width:0,height:0,strokeWidth:0,stroke:n.backgroundColor}},labelOptions:{style:{color:n.neutralColor60}}},c.annotationsOptions,c.bindings.measureY.annotationsOptions);
return this.chart.addAnnotation(a)}},steps:[f.updateRectSize]},measureXY:{className:"highcharts-measure-xy",start:function(a){var b=this.chart.pointer.getCoordinates(a);a=this.utils.getAssignedAxis(b.xAxis);b=this.utils.getAssignedAxis(b.yAxis);if(a&&b){var c=this.chart.options.navigation;a=p({langKey:"measure",type:"measure",typeOptions:{selectType:"xy",xAxis:a.axis.options.index,yAxis:b.axis.options.index,point:{x:a.value,y:b.value},background:{width:0,height:0,strokeWidth:10},crosshairX:{strokeWidth:1,
stroke:n.neutralColor100},crosshairY:{strokeWidth:1,stroke:n.neutralColor100}},labelOptions:{style:{color:n.neutralColor60}}},c.annotationsOptions,c.bindings.measureXY.annotationsOptions);return this.chart.addAnnotation(a)}},steps:[f.updateRectSize]},fibonacci:{className:"highcharts-fibonacci",start:function(a){var b=this.chart.pointer.getCoordinates(a);a=this.utils.getAssignedAxis(b.xAxis);b=this.utils.getAssignedAxis(b.yAxis);if(a&&b){var c=a.value,d=b.value,e=this.chart.options.navigation;a=p({langKey:"fibonacci",
type:"fibonacci",typeOptions:{xAxis:a.axis.options.index,yAxis:b.axis.options.index,points:[{x:c,y:d},{x:c,y:d}]},labelOptions:{style:{color:n.neutralColor60}}},e.annotationsOptions,e.bindings.fibonacci.annotationsOptions);return this.chart.addAnnotation(a)}},steps:[f.updateNthPoint(1),f.updateHeight]},parallelChannel:{className:"highcharts-parallel-channel",start:function(a){var b=this.chart.pointer.getCoordinates(a);a=this.utils.getAssignedAxis(b.xAxis);b=this.utils.getAssignedAxis(b.yAxis);if(a&&
b){var c=a.value,d=b.value,e=this.chart.options.navigation;a=p({langKey:"parallelChannel",type:"tunnel",typeOptions:{xAxis:a.axis.options.index,yAxis:b.axis.options.index,points:[{x:c,y:d},{x:c,y:d}]}},e.annotationsOptions,e.bindings.parallelChannel.annotationsOptions);return this.chart.addAnnotation(a)}},steps:[f.updateNthPoint(1),f.updateHeight]},pitchfork:{className:"highcharts-pitchfork",start:function(a){var b=this.chart.pointer.getCoordinates(a);a=this.utils.getAssignedAxis(b.xAxis);b=this.utils.getAssignedAxis(b.yAxis);
if(a&&b){var c=a.value,d=b.value,e=this.chart.options.navigation;a=p({langKey:"pitchfork",type:"pitchfork",typeOptions:{xAxis:a.axis.options.index,yAxis:b.axis.options.index,points:[{x:a.value,y:b.value,controlPoint:{style:{fill:n.negativeColor}}},{x:c,y:d},{x:c,y:d}],innerBackground:{fill:"rgba(100, 170, 255, 0.8)"}},shapeOptions:{strokeWidth:2}},e.annotationsOptions,e.bindings.pitchfork.annotationsOptions);return this.chart.addAnnotation(a)}},steps:[f.updateNthPoint(1),f.updateNthPoint(2)]},verticalCounter:{className:"highcharts-vertical-counter",
start:function(a){a=f.attractToPoint(a,this.chart);var b=this.chart.options.navigation;a&&(this.verticalCounter=this.verticalCounter||0,a=p({langKey:"verticalCounter",type:"verticalLine",typeOptions:{point:{x:a.x,y:a.y,xAxis:a.xAxis,yAxis:a.yAxis},label:{offset:a.below?40:-40,text:this.verticalCounter.toString()}},labelOptions:{style:{color:n.neutralColor60,fontSize:"11px"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},b.annotationsOptions,b.bindings.verticalCounter.annotationsOptions),
a=this.chart.addAnnotation(a),this.verticalCounter++,a.options.events.click.call(a,{}))}},verticalLabel:{className:"highcharts-vertical-label",start:function(a){a=f.attractToPoint(a,this.chart);var b=this.chart.options.navigation;a&&(a=p({langKey:"verticalLabel",type:"verticalLine",typeOptions:{point:{x:a.x,y:a.y,xAxis:a.xAxis,yAxis:a.yAxis},label:{offset:a.below?40:-40}},labelOptions:{style:{color:n.neutralColor60,fontSize:"11px"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},b.annotationsOptions,
b.bindings.verticalLabel.annotationsOptions),a=this.chart.addAnnotation(a),a.options.events.click.call(a,{}))}},verticalArrow:{className:"highcharts-vertical-arrow",start:function(a){a=f.attractToPoint(a,this.chart);var b=this.chart.options.navigation;a&&(a=p({langKey:"verticalArrow",type:"verticalLine",typeOptions:{point:{x:a.x,y:a.y,xAxis:a.xAxis,yAxis:a.yAxis},label:{offset:a.below?40:-40,format:" "},connector:{fill:"none",stroke:a.below?n.negativeColor:n.positiveColor}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",
strokeWidth:1}},b.annotationsOptions,b.bindings.verticalArrow.annotationsOptions),a=this.chart.addAnnotation(a),a.options.events.click.call(a,{}))}},flagCirclepin:{className:"highcharts-flag-circlepin",start:f.addFlagFromForm("circlepin")},flagDiamondpin:{className:"highcharts-flag-diamondpin",start:f.addFlagFromForm("flag")},flagSquarepin:{className:"highcharts-flag-squarepin",start:f.addFlagFromForm("squarepin")},flagSimplepin:{className:"highcharts-flag-simplepin",start:f.addFlagFromForm("nopin")},
zoomX:{className:"highcharts-zoom-x",init:function(a){this.chart.update({chart:{zoomType:"x"}});g(this,"deselectButton",{button:a})}},zoomY:{className:"highcharts-zoom-y",init:function(a){this.chart.update({chart:{zoomType:"y"}});g(this,"deselectButton",{button:a})}},zoomXY:{className:"highcharts-zoom-xy",init:function(a){this.chart.update({chart:{zoomType:"xy"}});g(this,"deselectButton",{button:a})}},seriesTypeLine:{className:"highcharts-series-type-line",init:function(a){this.chart.series[0].update({type:"line",
useOhlcData:!0});g(this,"deselectButton",{button:a})}},seriesTypeOhlc:{className:"highcharts-series-type-ohlc",init:function(a){this.chart.series[0].update({type:"ohlc"});g(this,"deselectButton",{button:a})}},seriesTypeCandlestick:{className:"highcharts-series-type-candlestick",init:function(a){this.chart.series[0].update({type:"candlestick"});g(this,"deselectButton",{button:a})}},seriesTypeHeikinAshi:{className:"highcharts-series-type-heikinashi",init:function(a){this.chart.series[0].update({type:"heikinashi"});
g(this,"deselectButton",{button:a})}},seriesTypeHollowCandlestick:{className:"highcharts-series-type-hollowcandlestick",init:function(a){this.chart.series[0].update({type:"hollowcandlestick"});g(this,"deselectButton",{button:a})}},fullScreen:{className:"highcharts-full-screen",noDataState:"normal",init:function(a){this.chart.fullscreen.toggle();g(this,"deselectButton",{button:a})}},currentPriceIndicator:{className:"highcharts-current-price-indicator",init:function(a){var b=this.chart,c=b.series,d=
b.stockTools,e=f.isPriceIndicatorEnabled(b.series);d&&d.guiEnabled&&(c.forEach(function(a){a.update({lastPrice:{enabled:!e},lastVisiblePrice:{enabled:!e,label:{enabled:!0}}},!1)}),b.redraw());g(this,"deselectButton",{button:a})}},indicators:{className:"highcharts-indicators",init:function(){var a=this;g(a,"showPopup",{formType:"indicators",options:{},onSubmit:function(b){a.utils.manageIndicators.call(a,b)}})}},toggleAnnotations:{className:"highcharts-toggle-annotations",init:function(a){var b=this.chart,
c=b.stockTools,d=c.getIconsURL();this.toggledAnnotations=!this.toggledAnnotations;(b.annotations||[]).forEach(function(a){a.setVisibility(!this.toggledAnnotations)},this);c&&c.guiEnabled&&(a.firstChild.style["background-image"]=this.toggledAnnotations?'url("'+d+'annotations-hidden.svg")':'url("'+d+'annotations-visible.svg")');g(this,"deselectButton",{button:a})}},saveChart:{className:"highcharts-save-chart",noDataState:"normal",init:function(b){var c=this.chart,d=[],e=[],k=[],n=[];c.annotations.forEach(function(a,
b){d[b]=a.userOptions});c.series.forEach(function(a){a.is("sma")?e.push(a.userOptions):"flags"===a.type&&k.push(a.userOptions)});c.yAxis.forEach(function(a){f.isNotNavigatorYAxis(a)&&n.push(a.options)});a.win.localStorage.setItem("highcharts-chart",JSON.stringify({annotations:d,indicators:e,flags:k,yAxes:n}));g(this,"deselectButton",{button:b})}}};u({navigation:{bindings:q}});k.prototype.utils=p(f,k.prototype.utils)});w(a,"Stock/StockToolsGui.js",[a["Core/Chart/Chart.js"],a["Core/Globals.js"],a["Extensions/Annotations/NavigationBindings.js"],
a["Core/DefaultOptions.js"],a["Core/Utilities.js"]],function(a,k,u,x,q){x=x.setOptions;var d=q.addEvent,c=q.createElement,w=q.css,e=q.extend,z=q.fireEvent,g=q.getStyle,m=q.isArray,p=q.merge,r=q.pick;x({lang:{stockTools:{gui:{simpleShapes:"Simple shapes",lines:"Lines",crookedLines:"Crooked lines",measure:"Measure",advanced:"Advanced",toggleAnnotations:"Toggle annotations",verticalLabels:"Vertical labels",flags:"Flags",zoomChange:"Zoom change",typeChange:"Type change",saveChart:"Save chart",indicators:"Indicators",
currentPriceIndicator:"Current Price Indicators",zoomX:"Zoom X",zoomY:"Zoom Y",zoomXY:"Zooom XY",fullScreen:"Fullscreen",typeOHLC:"OHLC",typeLine:"Line",typeCandlestick:"Candlestick",typeHollowCandlestick:"Hollow Candlestick",typeHeikinAshi:"Heikin Ashi",circle:"Circle",label:"Label",rectangle:"Rectangle",flagCirclepin:"Flag circle",flagDiamondpin:"Flag diamond",flagSquarepin:"Flag square",flagSimplepin:"Flag simple",measureXY:"Measure XY",measureX:"Measure X",measureY:"Measure Y",segment:"Segment",
arrowSegment:"Arrow segment",ray:"Ray",arrowRay:"Arrow ray",line:"Line",arrowLine:"Arrow line",horizontalLine:"Horizontal line",verticalLine:"Vertical line",infinityLine:"Infinity line",crooked3:"Crooked 3 line",crooked5:"Crooked 5 line",elliott3:"Elliott 3 line",elliott5:"Elliott 5 line",verticalCounter:"Vertical counter",verticalLabel:"Vertical label",verticalArrow:"Vertical arrow",fibonacci:"Fibonacci",pitchfork:"Pitchfork",parallelChannel:"Parallel channel"}},navigation:{popup:{circle:"Circle",
rectangle:"Rectangle",label:"Label",segment:"Segment",arrowSegment:"Arrow segment",ray:"Ray",arrowRay:"Arrow ray",line:"Line",arrowLine:"Arrow line",horizontalLine:"Horizontal line",verticalLine:"Vertical line",crooked3:"Crooked 3 line",crooked5:"Crooked 5 line",elliott3:"Elliott 3 line",elliott5:"Elliott 5 line",verticalCounter:"Vertical counter",verticalLabel:"Vertical label",verticalArrow:"Vertical arrow",fibonacci:"Fibonacci",pitchfork:"Pitchfork",parallelChannel:"Parallel channel",infinityLine:"Infinity line",
measure:"Measure",measureXY:"Measure XY",measureX:"Measure X",measureY:"Measure Y",flags:"Flags",addButton:"add",saveButton:"save",editButton:"edit",removeButton:"remove",series:"Series",volume:"Volume",connector:"Connector",innerBackground:"Inner background",outerBackground:"Outer background",crosshairX:"Crosshair X",crosshairY:"Crosshair Y",tunnel:"Tunnel",background:"Background",index:"Index",period:"Period",periods:"Periods",standardDeviation:"Standard deviation",periodTenkan:"Tenkan period",
periodSenkouSpanB:"Senkou Span B period",periodATR:"ATR period",multiplierATR:"ATR multiplier",shortPeriod:"Short period",longPeriod:"Long period",signalPeriod:"Signal period",decimals:"Decimals",algorithm:"Algorithm",topBand:"Top band",bottomBand:"Bottom band",initialAccelerationFactor:"Initial acceleration factor",maxAccelerationFactor:"Max acceleration factor",increment:"Increment",multiplier:"Multiplier",ranges:"Ranges",highIndex:"High index",lowIndex:"Low index",deviation:"Deviation",xAxisUnit:"x-axis unit",
factor:"Factor",fastAvgPeriod:"Fast average period",slowAvgPeriod:"Slow average period",average:"Average"}}},stockTools:{gui:{enabled:!0,className:"highcharts-bindings-wrapper",toolbarClassName:"stocktools-toolbar",buttons:"indicators separator simpleShapes lines crookedLines measure advanced toggleAnnotations separator verticalLabels flags separator zoomChange fullScreen typeChange separator currentPriceIndicator saveChart".split(" "),definitions:{separator:{symbol:"separator.svg"},simpleShapes:{items:["label",
"circle","rectangle"],circle:{symbol:"circle.svg"},rectangle:{symbol:"rectangle.svg"},label:{symbol:"label.svg"}},flags:{items:["flagCirclepin","flagDiamondpin","flagSquarepin","flagSimplepin"],flagSimplepin:{symbol:"flag-basic.svg"},flagDiamondpin:{symbol:"flag-diamond.svg"},flagSquarepin:{symbol:"flag-trapeze.svg"},flagCirclepin:{symbol:"flag-elipse.svg"}},lines:{items:"segment arrowSegment ray arrowRay line arrowLine horizontalLine verticalLine".split(" "),segment:{symbol:"segment.svg"},arrowSegment:{symbol:"arrow-segment.svg"},
ray:{symbol:"ray.svg"},arrowRay:{symbol:"arrow-ray.svg"},line:{symbol:"line.svg"},arrowLine:{symbol:"arrow-line.svg"},verticalLine:{symbol:"vertical-line.svg"},horizontalLine:{symbol:"horizontal-line.svg"}},crookedLines:{items:["elliott3","elliott5","crooked3","crooked5"],crooked3:{symbol:"crooked-3.svg"},crooked5:{symbol:"crooked-5.svg"},elliott3:{symbol:"elliott-3.svg"},elliott5:{symbol:"elliott-5.svg"}},verticalLabels:{items:["verticalCounter","verticalLabel","verticalArrow"],verticalCounter:{symbol:"vertical-counter.svg"},
verticalLabel:{symbol:"vertical-label.svg"},verticalArrow:{symbol:"vertical-arrow.svg"}},advanced:{items:["fibonacci","pitchfork","parallelChannel"],pitchfork:{symbol:"pitchfork.svg"},fibonacci:{symbol:"fibonacci.svg"},parallelChannel:{symbol:"parallel-channel.svg"}},measure:{items:["measureXY","measureX","measureY"],measureX:{symbol:"measure-x.svg"},measureY:{symbol:"measure-y.svg"},measureXY:{symbol:"measure-xy.svg"}},toggleAnnotations:{symbol:"annotations-visible.svg"},currentPriceIndicator:{symbol:"current-price-show.svg"},
indicators:{symbol:"indicators.svg"},zoomChange:{items:["zoomX","zoomY","zoomXY"],zoomX:{symbol:"zoom-x.svg"},zoomY:{symbol:"zoom-y.svg"},zoomXY:{symbol:"zoom-xy.svg"}},typeChange:{items:["typeOHLC","typeLine","typeCandlestick","typeHollowCandlestick","typeHeikinAshi"],typeOHLC:{symbol:"series-ohlc.svg"},typeLine:{symbol:"series-line.svg"},typeCandlestick:{symbol:"series-candlestick.svg"},typeHeikinAshi:{symbol:"series-heikin-ashi.svg"},typeHollowCandlestick:{symbol:"series-hollow-candlestick.svg"}},
fullScreen:{symbol:"fullscreen.svg"},saveChart:{symbol:"save-chart.svg"}}}}});d(a,"afterGetContainer",function(){this.setStockTools()});d(a,"getMargins",function(){var a=this.stockTools&&this.stockTools.listWrapper;(a=a&&(a.startWidth+g(a,"padding-left")+g(a,"padding-right")||a.offsetWidth))&&a<this.plotWidth&&(this.plotLeft+=a,this.spacing[3]+=a)},{order:0});["beforeRender","beforeRedraw"].forEach(function(c){d(a,c,function(){if(this.stockTools){var a=this.options.chart,c=this.stockTools.listWrapper;
c=c&&(c.startWidth+g(c,"padding-left")+g(c,"padding-right")||c.offsetWidth);var d=!1;c&&c<this.plotWidth?(a=r(a.spacingLeft,a.spacing&&a.spacing[3],0)+c,d=a-this.spacingBox.x,this.spacingBox.x=a,this.spacingBox.width-=d,d=!0):0===c&&(d=!0);c!==this.stockTools.prevOffsetWidth&&(this.stockTools.prevOffsetWidth=c,d&&(this.isDirtyLegend=!0))}})});d(a,"destroy",function(){this.stockTools&&this.stockTools.destroy()});d(a,"redraw",function(){this.stockTools&&this.stockTools.guiEnabled&&this.stockTools.redraw()});
var E=function(){function a(a,c,d){this.wrapper=this.toolbar=this.submenu=this.showhideBtn=this.listWrapper=this.arrowWrapper=this.arrowUp=this.arrowDown=void 0;this.chart=d;this.options=a;this.lang=c;this.iconsURL=this.getIconsURL();this.guiEnabled=a.enabled;this.visible=r(a.visible,!0);this.placed=r(a.placed,!1);this.eventsToUnbind=[];this.guiEnabled&&(this.createHTML(),this.init(),this.showHideNavigatorion());z(this,"afterInit")}a.prototype.init=function(){var a=this,c=this.lang,e=this.options,
f=this.toolbar,g=a.addSubmenu,k=e.definitions,n=f.childNodes,p;e.buttons.forEach(function(b){p=a.addButton(f,k,b,c);a.eventsToUnbind.push(d(p.buttonWrapper,"click",function(){a.eraseActiveButtons(n,p.buttonWrapper)}));m(k[b].items)&&g.call(a,p,k[b])})};a.prototype.addSubmenu=function(a,e){var b=this,h=a.submenuArrow,f=a.buttonWrapper,k=g(f,"width"),n=this.wrapper,m=this.listWrapper,p=this.toolbar.childNodes,q=0,r;this.submenu=r=c("ul",{className:"highcharts-submenu-wrapper"},void 0,f);this.addSubmenuItems(f,
e);b.eventsToUnbind.push(d(h,"click",function(a){a.stopPropagation();b.eraseActiveButtons(p,f);0<=f.className.indexOf("highcharts-current")?(m.style.width=m.startWidth+"px",f.classList.remove("highcharts-current"),r.style.display="none"):(r.style.display="block",q=r.offsetHeight-f.offsetHeight-3,r.offsetHeight+f.offsetTop>n.offsetHeight&&f.offsetTop>q||(q=0),w(r,{top:-q+"px",left:k+3+"px"}),f.className+=" highcharts-current",m.startWidth=n.offsetWidth,m.style.width=m.startWidth+g(m,"padding-left")+
r.offsetWidth+3+"px")}))};a.prototype.addSubmenuItems=function(a,c){var b=this,e=this.submenu,h=this.lang,f=this.listWrapper,g;c.items.forEach(function(l){g=b.addButton(e,c,l,h);b.eventsToUnbind.push(d(g.mainButton,"click",function(){b.switchSymbol(this,a,!0);f.style.width=f.startWidth+"px";e.style.display="none"}))});var k=e.querySelectorAll("li > .highcharts-menu-item-btn")[0];b.switchSymbol(k,!1)};a.prototype.eraseActiveButtons=function(a,c,d){[].forEach.call(a,function(a){a!==c&&(a.classList.remove("highcharts-current"),
a.classList.remove("highcharts-active"),d=a.querySelectorAll(".highcharts-submenu-wrapper"),0<d.length&&(d[0].style.display="none"))})};a.prototype.addButton=function(b,d,e,f){void 0===f&&(f={});d=d[e];var h=d.items,g=d.className||"";e=c("li",{className:r(a.prototype.classMapping[e],"")+" "+g,title:f[e]||e},void 0,b);b=c("span",{className:"highcharts-menu-item-btn"},void 0,e);if(h&&h.length){var k=c("span",{className:"highcharts-submenu-item-arrow highcharts-arrow-right"},void 0,e);k.style.backgroundImage=
"url("+this.iconsURL+"arrow-bottom.svg)"}else b.style.backgroundImage="url("+this.iconsURL+d.symbol+")";return{buttonWrapper:e,mainButton:b,submenuArrow:k}};a.prototype.addNavigation=function(){var a=this.wrapper;this.arrowWrapper=c("div",{className:"highcharts-arrow-wrapper"});this.arrowUp=c("div",{className:"highcharts-arrow-up"},void 0,this.arrowWrapper);this.arrowUp.style.backgroundImage="url("+this.iconsURL+"arrow-right.svg)";this.arrowDown=c("div",{className:"highcharts-arrow-down"},void 0,
this.arrowWrapper);this.arrowDown.style.backgroundImage="url("+this.iconsURL+"arrow-right.svg)";a.insertBefore(this.arrowWrapper,a.childNodes[0]);this.scrollButtons()};a.prototype.scrollButtons=function(){var a=0,c=this.wrapper,e=this.toolbar,f=.1*c.offsetHeight;this.eventsToUnbind.push(d(this.arrowUp,"click",function(){0<a&&(a-=f,e.style.marginTop=-a+"px")}));this.eventsToUnbind.push(d(this.arrowDown,"click",function(){c.offsetHeight+a<=e.offsetHeight+f&&(a+=f,e.style.marginTop=-a+"px")}))};a.prototype.createHTML=
function(){var a=this.chart,e=this.options,f=a.container,g=a.options.navigation,k=this.wrapper=c("div",{className:"highcharts-stocktools-wrapper "+e.className+" "+(g&&g.bindingsClassName)});f.appendChild(k);["mousedown","mousemove","click","touchstart"].forEach(function(a){d(k,a,function(a){return a.stopPropagation()})});d(k,"mouseover",function(b){return a.pointer.onContainerMouseLeave(b)});this.toolbar=f=c("ul",{className:"highcharts-stocktools-toolbar "+e.toolbarClassName});this.listWrapper=e=
c("div",{className:"highcharts-menu-wrapper"});k.insertBefore(e,k.childNodes[0]);e.insertBefore(f,e.childNodes[0]);this.showHideToolbar();this.addNavigation()};a.prototype.showHideNavigatorion=function(){this.visible&&this.toolbar.offsetHeight>this.wrapper.offsetHeight-50?this.arrowWrapper.style.display="block":(this.toolbar.style.marginTop="0px",this.arrowWrapper.style.display="none")};a.prototype.showHideToolbar=function(){var a=this.chart,e=this.wrapper,f=this.listWrapper,k=this.submenu,n=this.visible,
m;this.showhideBtn=m=c("div",{className:"highcharts-toggle-toolbar highcharts-arrow-left"},void 0,e);m.style.backgroundImage="url("+this.iconsURL+"arrow-right.svg)";n?(e.style.height="100%",m.style.top=g(f,"padding-top")+"px",m.style.left=e.offsetWidth+g(f,"padding-left")+"px"):(k&&(k.style.display="none"),m.style.left="0px",this.visible=n=!1,f.classList.add("highcharts-hide"),m.classList.toggle("highcharts-arrow-right"),e.style.height=m.offsetHeight+"px");this.eventsToUnbind.push(d(m,"click",function(){a.update({stockTools:{gui:{visible:!n,
placed:!0}}})}))};a.prototype.switchSymbol=function(a,c){var b=a.parentNode,d=b.className;b=b.parentNode.parentNode;-1<d.indexOf("highcharts-disabled-btn")||(b.className="",d&&b.classList.add(d.trim()),b.querySelectorAll(".highcharts-menu-item-btn")[0].style.backgroundImage=a.style.backgroundImage,c&&this.selectButton(b))};a.prototype.selectButton=function(a){0<=a.className.indexOf("highcharts-active")?a.classList.remove("highcharts-active"):a.classList.add("highcharts-active")};a.prototype.unselectAllButtons=
function(a){var b=a.parentNode.querySelectorAll(".highcharts-active");[].forEach.call(b,function(b){b!==a&&b.classList.remove("highcharts-active")})};a.prototype.update=function(a,c){p(!0,this.chart.options.stockTools,a);this.destroy();this.chart.setStockTools(a);this.chart.navigationBindings&&this.chart.navigationBindings.update();this.chart.isDirtyBox=!0;r(c,!0)&&this.chart.redraw()};a.prototype.destroy=function(){var a=this.wrapper,c=a&&a.parentNode;this.eventsToUnbind.forEach(function(a){a()});
c&&c.removeChild(a)};a.prototype.redraw=function(){this.showHideNavigatorion()};a.prototype.getIconsURL=function(){return this.chart.options.navigation.iconsURL||this.options.iconsURL||"https://code.highcharts.com/9.2.2/gfx/stock-icons/"};return a}();E.prototype.classMapping={circle:"highcharts-circle-annotation",rectangle:"highcharts-rectangle-annotation",label:"highcharts-label-annotation",segment:"highcharts-segment",arrowSegment:"highcharts-arrow-segment",ray:"highcharts-ray",arrowRay:"highcharts-arrow-ray",
line:"highcharts-infinity-line",arrowLine:"highcharts-arrow-infinity-line",verticalLine:"highcharts-vertical-line",horizontalLine:"highcharts-horizontal-line",crooked3:"highcharts-crooked3",crooked5:"highcharts-crooked5",elliott3:"highcharts-elliott3",elliott5:"highcharts-elliott5",pitchfork:"highcharts-pitchfork",fibonacci:"highcharts-fibonacci",parallelChannel:"highcharts-parallel-channel",measureX:"highcharts-measure-x",measureY:"highcharts-measure-y",measureXY:"highcharts-measure-xy",verticalCounter:"highcharts-vertical-counter",
verticalLabel:"highcharts-vertical-label",verticalArrow:"highcharts-vertical-arrow",currentPriceIndicator:"highcharts-current-price-indicator",indicators:"highcharts-indicators",flagCirclepin:"highcharts-flag-circlepin",flagDiamondpin:"highcharts-flag-diamondpin",flagSquarepin:"highcharts-flag-squarepin",flagSimplepin:"highcharts-flag-simplepin",zoomX:"highcharts-zoom-x",zoomY:"highcharts-zoom-y",zoomXY:"highcharts-zoom-xy",typeLine:"highcharts-series-type-line",typeOHLC:"highcharts-series-type-ohlc",
typeCandlestick:"highcharts-series-type-candlestick",typeHollowCandlestick:"highcharts-series-type-hollowcandlestick",typeHeikinAshi:"highcharts-series-type-heikinashi",fullScreen:"highcharts-full-screen",toggleAnnotations:"highcharts-toggle-annotations",saveChart:"highcharts-save-chart",separator:"highcharts-separator"};e(a.prototype,{setStockTools:function(a){var b=this.options,c=b.lang;a=p(b.stockTools&&b.stockTools.gui,a&&a.gui);this.stockTools=new E(a,c&&c.stockTools&&c.stockTools.gui,this);
this.stockTools.guiEnabled&&(this.isDirtyBox=!0)}});d(u,"selectButton",function(a){var b=a.button,c=this.chart.stockTools;c&&c.guiEnabled&&(c.unselectAllButtons(a.button),0<=b.parentNode.className.indexOf("highcharts-submenu-wrapper")&&(b=b.parentNode.parentNode),c.selectButton(b))});d(u,"deselectButton",function(a){a=a.button;var b=this.chart.stockTools;b&&b.guiEnabled&&(0<=a.parentNode.className.indexOf("highcharts-submenu-wrapper")&&(a=a.parentNode.parentNode),b.selectButton(a))});d(a,"render",
function(){var a=this.stockTools,b=a&&a.toolbar&&a.toolbar.querySelector(".highcharts-current-price-indicator");a&&this.navigationBindings&&this.options.series&&b&&(this.navigationBindings.constructor.prototype.utils.isPriceIndicatorEnabled(this.series)?b.firstChild.style["background-image"]='url("'+a.getIconsURL()+'current-price-hide.svg")':b.firstChild.style["background-image"]='url("'+a.getIconsURL()+'current-price-show.svg")')});k.Toolbar=E;return k.Toolbar});w(a,"masters/modules/stock-tools.src.js",
[],function(){})});
//# sourceMappingURL=stock-tools.js.map