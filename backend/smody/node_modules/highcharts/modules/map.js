/*
 Highmaps JS v9.2.2 (2021-08-24)

 Highmaps as a plugin for Highcharts or Highcharts Stock.

 (c) 2011-2021 Torstein Honsi

 License: www.highcharts.com/license
*/
'use strict';(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/modules/map",["highcharts"],function(x){a(x);a.Highcharts=x;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function x(a,k,q,n){a.hasOwnProperty(k)||(a[k]=n.apply(null,q))}a=a?a._modules:{};x(a,"Core/Axis/MapAxis.js",[a["Core/Axis/Axis.js"],a["Core/Utilities.js"]],function(a,k){var f=k.addEvent,n=k.pick,v=function(){return function(a){this.axis=
a}}();k=function(){function a(){}a.compose=function(h){h.keepProps.push("mapAxis");f(h,"init",function(){this.mapAxis||(this.mapAxis=new v(this))});f(h,"getSeriesExtremes",function(){if(this.mapAxis){var d=[];this.isXAxis&&(this.series.forEach(function(g,c){g.useMapGeometry&&(d[c]=g.xData,g.xData=[])}),this.mapAxis.seriesXData=d)}});f(h,"afterGetSeriesExtremes",function(){if(this.mapAxis){var d=this.mapAxis.seriesXData||[],g;if(this.isXAxis){var c=n(this.dataMin,Number.MAX_VALUE);var l=n(this.dataMax,
-Number.MAX_VALUE);this.series.forEach(function(b,h){b.useMapGeometry&&(c=Math.min(c,n(b.minX,c)),l=Math.max(l,n(b.maxX,l)),b.xData=d[h],g=!0)});g&&(this.dataMin=c,this.dataMax=l);this.mapAxis.seriesXData=void 0}}});f(h,"afterSetAxisTranslation",function(){if(this.mapAxis){var d=this.chart,g=d.plotWidth/d.plotHeight;d=d.xAxis[0];var c;"yAxis"===this.coll&&"undefined"!==typeof d.transA&&this.series.forEach(function(d){d.preserveAspectRatio&&(c=!0)});if(c&&(this.transA=d.transA=Math.min(this.transA,
d.transA),g/=(d.max-d.min)/(this.max-this.min),g=1>g?this:d,d=(g.max-g.min)*g.transA,g.mapAxis.pixelPadding=g.len-d,g.minPixelPadding=g.mapAxis.pixelPadding/2,d=g.mapAxis.fixTo)){d=d[1]-g.toValue(d[0],!0);d*=g.transA;if(Math.abs(d)>g.minPixelPadding||g.min===g.dataMin&&g.max===g.dataMax)d=0;g.minPixelPadding-=d}}});f(h,"render",function(){this.mapAxis&&(this.mapAxis.fixTo=void 0)})};return a}();k.compose(a);return k});x(a,"Mixins/ColorSeries.js",[],function(){return{colorPointMixin:{setVisible:function(a){var f=
this,q=a?"show":"hide";f.visible=f.options.visible=!!a;["graphic","dataLabel"].forEach(function(a){if(f[a])f[a][q]()});this.series.buildKDTree()}},colorSeriesMixin:{optionalAxis:"colorAxis",translateColors:function(){var a=this,k=this.options.nullColor,q=this.colorAxis,n=this.colorKey;(this.data.length?this.data:this.points).forEach(function(f){var p=f.getNestedProperty(n);(p=f.options.color||(f.isNull||null===f.value?k:q&&"undefined"!==typeof p?q.toColor(p,f):f.color||a.color))&&f.color!==p&&(f.color=
p,"point"===a.options.legendType&&f.legendItem&&a.chart.legend.colorizeItem(f,f.visible))})}}}});x(a,"Core/Axis/Color/ColorAxisComposition.js",[a["Core/Color/Color.js"],a["Mixins/ColorSeries.js"],a["Core/Utilities.js"]],function(a,k,q){var f=a.parse,v=k.colorPointMixin,p=k.colorSeriesMixin,h=q.addEvent,d=q.extend,g=q.merge,c=q.pick,l=q.splat,b;(function(b){function a(){var m=this,e=this.options;this.colorAxis=[];e.colorAxis&&(e.colorAxis=l(e.colorAxis),e.colorAxis.forEach(function(e,b){e.index=b;
new B(m,e)}))}function w(e){var m=this,b=function(c){c=e.allItems.indexOf(c);-1!==c&&(m.destroyItem(e.allItems[c]),e.allItems.splice(c,1))},c=[],t,u;(this.chart.colorAxis||[]).forEach(function(e){(t=e.options)&&t.showInLegend&&(t.dataClasses&&t.visible?c=c.concat(e.getDataClassLegendSymbols()):t.visible&&c.push(e),e.series.forEach(function(e){if(!e.options.showInLegend||t.dataClasses)"point"===e.options.legendType?e.points.forEach(function(e){b(e)}):b(e)}))});for(u=c.length;u--;)e.allItems.unshift(c[u])}
function A(e){e.visible&&e.item.legendColor&&e.item.legendSymbol.attr({fill:e.item.legendColor})}function n(){var e=this.chart.colorAxis;e&&e.forEach(function(e,m,c){e.update({},c)})}function y(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function t(){var e=this.axisTypes;e?-1===e.indexOf("colorAxis")&&e.push("colorAxis"):this.axisTypes=["colorAxis"]}function D(e){var m=e.prototype.createAxis;e.prototype.createAxis=function(e,b){if("colorAxis"!==
e)return m.apply(this,arguments);var t=new B(this,g(b.axis,{index:this[e].length,isX:!1}));this.isDirtyLegend=!0;this.axes.forEach(function(e){e.series=[]});this.series.forEach(function(e){e.bindAxes();e.isDirtyData=!0});c(b.redraw,!0)&&this.redraw(b.animation);return t}}function e(){this.elem.attr("fill",f(this.start).tweenTo(f(this.end),this.pos),void 0,!0)}function m(){this.elem.attr("stroke",f(this.start).tweenTo(f(this.end),this.pos),void 0,!0)}var u=[],B;b.compose=function(c,b,z,l,g){B||(B=
c);-1===u.indexOf(b)&&(u.push(b),c=b.prototype,c.collectionsWithUpdate.push("colorAxis"),c.collectionsWithInit.colorAxis=[c.addColorAxis],h(b,"afterGetAxes",a),D(b));-1===u.indexOf(z)&&(u.push(z),b=z.prototype,b.fillSetter=e,b.strokeSetter=m);-1===u.indexOf(l)&&(u.push(l),h(l,"afterGetAllItems",w),h(l,"afterColorizeItem",A),h(l,"afterUpdate",n));-1===u.indexOf(g)&&(u.push(g),d(g.prototype,p),d(g.prototype.pointClass.prototype,v),h(g,"afterTranslate",y),h(g,"bindAxes",t))}})(b||(b={}));return b});
x(a,"Core/Axis/Color/ColorAxisDefaults.js",[a["Core/Color/Palette.js"]],function(a){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:a.neutralColor40},labels:{overflow:"justify",rotation:0},minColor:a.highlightColor10,maxColor:a.highlightColor100,tickLength:5,showInLegend:!0}});x(a,"Core/Axis/Color/ColorAxis.js",[a["Core/Axis/Axis.js"],a["Core/Color/Color.js"],a["Core/Axis/Color/ColorAxisComposition.js"],
a["Core/Axis/Color/ColorAxisDefaults.js"],a["Core/Globals.js"],a["Core/Legend/LegendSymbol.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,k,q,n,v,p,h,d){var g=this&&this.__extends||function(){var c=function(b,t){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var m in e)e.hasOwnProperty(m)&&(c[m]=e[m])};return c(b,t)};return function(b,t){function d(){this.constructor=b}c(b,t);b.prototype=null===t?Object.create(t):
(d.prototype=t.prototype,new d)}}(),c=k.parse,l=v.noop,b=h.series,A=d.extend,r=d.isNumber,w=d.merge,f=d.pick;k=function(d){function a(c,b){var e=d.call(this,c,b)||this;e.beforePadding=!1;e.chart=void 0;e.coll="colorAxis";e.dataClasses=void 0;e.legendItem=void 0;e.legendItems=void 0;e.name="";e.options=void 0;e.stops=void 0;e.visible=!0;e.init(c,b);return e}g(a,d);a.compose=function(c,b,e,m){q.compose(a,c,b,e,m)};a.prototype.init=function(c,b){var e=c.options.legend||{},m=b.layout?"vertical"!==b.layout:
"vertical"!==e.layout,u=b.visible;e=w(a.defaultColorAxisOptions,b,{showEmpty:!1,title:null,visible:e.enabled&&!1!==u});this.coll="colorAxis";this.side=b.side||m?2:1;this.reversed=b.reversed||!m;this.opposite=!m;d.prototype.init.call(this,c,e);this.userOptions.visible=u;b.dataClasses&&this.initDataClasses(b);this.initStops();this.horiz=m;this.zoomEnabled=!1};a.prototype.initDataClasses=function(b){var a=this.chart,e=this.options,m=b.dataClasses.length,d,t=0,l=a.options.chart.colorCount;this.dataClasses=
d=[];this.legendItems=[];(b.dataClasses||[]).forEach(function(b,u){b=w(b);d.push(b);if(a.styledMode||!b.color)"category"===e.dataClassColor?(a.styledMode||(u=a.options.colors,l=u.length,b.color=u[t]),b.colorIndex=t,t++,t===l&&(t=0)):b.color=c(e.minColor).tweenTo(c(e.maxColor),2>m?.5:u/(m-1))})};a.prototype.hasData=function(){return!!(this.tickPositions||[]).length};a.prototype.setTickPositions=function(){if(!this.dataClasses)return d.prototype.setTickPositions.call(this)};a.prototype.initStops=function(){this.stops=
this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]];this.stops.forEach(function(b){b.color=c(b[1])})};a.prototype.setOptions=function(b){d.prototype.setOptions.call(this,b);this.options.crosshair=this.options.marker};a.prototype.setAxisSize=function(){var b=this.legendSymbol,c=this.chart,e=c.options.legend||{},m,d;b?(this.left=e=b.attr("x"),this.top=m=b.attr("y"),this.width=d=b.attr("width"),this.height=b=b.attr("height"),this.right=c.chartWidth-e-d,this.bottom=c.chartHeight-
m-b,this.len=this.horiz?d:b,this.pos=this.horiz?e:m):this.len=(this.horiz?e.symbolWidth:e.symbolHeight)||a.defaultLegendLength};a.prototype.normalizedValue=function(b){this.logarithmic&&(b=this.logarithmic.log2lin(b));return 1-(this.max-b)/(this.max-this.min||1)};a.prototype.toColor=function(b,c){var e=this.dataClasses,m=this.stops,a;if(e)for(a=e.length;a--;){var d=e[a];var l=d.from;m=d.to;if(("undefined"===typeof l||b>=l)&&("undefined"===typeof m||b<=m)){var g=d.color;c&&(c.dataClass=a,c.colorIndex=
d.colorIndex);break}}else{b=this.normalizedValue(b);for(a=m.length;a--&&!(b>m[a][0]););l=m[a]||m[a+1];m=m[a+1]||l;b=1-(m[0]-b)/(m[0]-l[0]||1);g=l.color.tweenTo(m.color,b)}return g};a.prototype.getOffset=function(){var b=this.legendGroup,c=this.chart.axisOffset[this.side];b&&(this.axisParent=b,d.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=c)};a.prototype.setLegendColor=function(){var b=this.reversed,c=b?1:0;
b=b?0:1;c=this.horiz?[c,0,b,0]:[0,b,0,c];this.legendColor={linearGradient:{x1:c[0],y1:c[1],x2:c[2],y2:c[3]},stops:this.stops}};a.prototype.drawLegendSymbol=function(b,c){var e=b.padding,m=b.options,d=this.horiz,l=f(m.symbolWidth,d?a.defaultLegendLength:12),g=f(m.symbolHeight,d?12:a.defaultLegendLength),h=f(m.labelPadding,d?16:30);m=f(m.itemDistance,10);this.setLegendColor();c.legendSymbol=this.chart.renderer.rect(0,b.baseline-11,l,g).attr({zIndex:1}).add(c.legendGroup);this.legendItemWidth=l+e+(d?
m:h);this.legendItemHeight=g+e+(d?h:0)};a.prototype.setState=function(b){this.series.forEach(function(c){c.setState(b)})};a.prototype.setVisible=function(){};a.prototype.getSeriesExtremes=function(){var c=this.series,a=c.length,e;this.dataMin=Infinity;for(this.dataMax=-Infinity;a--;){var m=c[a];var d=m.colorKey=f(m.options.colorKey,m.colorKey,m.pointValKey,m.zoneAxis,"y");var l=m.pointArrayMap;var g=m[d+"Min"]&&m[d+"Max"];if(m[d+"Data"])var h=m[d+"Data"];else if(l){h=[];l=l.indexOf(d);var z=m.yData;
if(0<=l&&z)for(e=0;e<z.length;e++)h.push(f(z[e][l],z[e]))}else h=m.yData;g?(m.minColorValue=m[d+"Min"],m.maxColorValue=m[d+"Max"]):(h=b.prototype.getExtremes.call(m,h),m.minColorValue=h.dataMin,m.maxColorValue=h.dataMax);"undefined"!==typeof m.minColorValue&&(this.dataMin=Math.min(this.dataMin,m.minColorValue),this.dataMax=Math.max(this.dataMax,m.maxColorValue));g||b.prototype.applyExtremes.call(m)}};a.prototype.drawCrosshair=function(b,c){var e=c&&c.plotX,a=c&&c.plotY,l=this.pos,g=this.len;if(c){var h=
this.toPixels(c.getNestedProperty(c.series.colorKey));h<l?h=l-2:h>l+g&&(h=l+g+2);c.plotX=h;c.plotY=this.len-h;d.prototype.drawCrosshair.call(this,b,c);c.plotX=e;c.plotY=a;this.cross&&!this.cross.addedToColorAxis&&this.legendGroup&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!==typeof this.crosshair||this.cross.attr({fill:this.crosshair.color}))}};a.prototype.getPlotLinePath=function(b){var c=this.left,e=b.translatedValue,
a=this.top;return r(e)?this.horiz?[["M",e-4,a-6],["L",e+4,a-6],["L",e,a],["Z"]]:[["M",c,e],["L",c-6,e+6],["L",c-6,e-6],["Z"]]:d.prototype.getPlotLinePath.call(this,b)};a.prototype.update=function(b,c){var e=this.chart.legend;this.series.forEach(function(b){b.isDirtyData=!0});(b.dataClasses&&e.allItems||this.dataClasses)&&this.destroyItems();d.prototype.update.call(this,b,c);this.legendItem&&(this.setLegendColor(),e.colorizeItem(this,!0))};a.prototype.destroyItems=function(){var b=this.chart;this.legendItem?
b.legend.destroyItem(this):this.legendItems&&this.legendItems.forEach(function(c){b.legend.destroyItem(c)});b.isDirtyLegend=!0};a.prototype.destroy=function(){this.chart.isDirtyLegend=!0;this.destroyItems();d.prototype.destroy.apply(this,[].slice.call(arguments))};a.prototype.remove=function(b){this.destroyItems();d.prototype.remove.call(this,b)};a.prototype.getDataClassLegendSymbols=function(){var b=this,c=b.chart,e=b.legendItems,a=c.options.legend,d=a.valueDecimals,g=a.valueSuffix||"",h;e.length||
b.dataClasses.forEach(function(a,m){var z=a.from,u=a.to,r=c.numberFormatter,w=!0;h="";"undefined"===typeof z?h="< ":"undefined"===typeof u&&(h="> ");"undefined"!==typeof z&&(h+=r(z,d)+g);"undefined"!==typeof z&&"undefined"!==typeof u&&(h+=" - ");"undefined"!==typeof u&&(h+=r(u,d)+g);e.push(A({chart:c,name:h,options:{},drawLegendSymbol:p.drawRectangle,visible:!0,setState:l,isDataClass:!0,setVisible:function(){w=b.visible=!w;b.series.forEach(function(b){b.points.forEach(function(b){b.dataClass===m&&
b.setVisible(w)})});c.legend.colorizeItem(this,w)}},a))});return e};a.defaultColorAxisOptions=n;a.defaultLegendLength=200;a.keepProps=["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"];return a}(a);Array.prototype.push.apply(a.keepProps,k.keepProps);"";return k});x(a,"Mixins/ColorMapSeries.js",[a["Core/Globals.js"],a["Core/Series/Point.js"],a["Core/Utilities.js"]],function(a,k,q){var f=q.defined;q=q.addEvent;var v=a.noop;a=a.seriesTypes;q(k,"afterSetState",function(a){this.moveToTopOnHover&&
this.graphic&&this.graphic.attr({zIndex:a&&"hover"===a.state?1:0})});return{colorMapPointMixin:{dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&Infinity!==this.value&&-Infinity!==this.value}},colorMapSeriesMixin:{pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:v,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:a.column.prototype.pointAttribs,colorAttribs:function(a){var h=
{};!f(a.color)||a.state&&"normal"!==a.state||(h[this.colorProp||"fill"]=a.color);return h}}}});x(a,"Maps/MapNavigationOptionsDefault.js",[a["Core/DefaultOptions.js"],a["Core/Utilities.js"]],function(a,k){k=k.extend;var f={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},
text:"-",y:28}},mouseWheelSensitivity:1.1};k(a.defaultOptions.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"});return a.defaultOptions.mapNavigation=f});x(a,"Maps/MapNavigation.js",[a["Core/Chart/Chart.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,k,q){function f(b){b&&(b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),b.cancelBubble=!0)}function v(b){this.init(b)}var p=k.doc,h=q.addEvent,d=q.extend,g=q.merge,c=q.objectEach,l=q.pick;v.prototype.init=function(b){this.chart=
b;b.mapNavButtons=[]};v.prototype.update=function(b){var a=this.chart,r=a.options.mapNavigation,w,n,q,y,t=function(b){this.handler.call(a,b);f(b)},k=a.mapNavButtons;b&&(r=a.options.mapNavigation=g(a.options.mapNavigation,b));for(;k.length;)k.pop().destroy();l(r.enableButtons,r.enabled)&&!a.renderer.forExport&&c(r.buttons,function(b,c){b=g(r.buttonOptions,b);!a.styledMode&&b.theme&&(w=b.theme,w.style=g(b.theme.style,b.style),q=(n=w.states)&&n.hover,y=n&&n.select,delete w.states);var e=a.renderer.button(b.text||
"",0,0,t,w,q,y,void 0,"zoomIn"===c?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[c]).attr({width:b.width,height:b.height,title:a.options.lang[c],padding:b.padding,zIndex:5}).add();e.handler=b.onclick;h(e.element,"dblclick",f);k.push(e);d(b,{width:e.width,height:2*e.height});if(a.hasLoaded)e.align(b,!1,b.alignTo);else var m=h(a,"load",function(){e.element&&e.align(b,!1,b.alignTo);m()})});this.updateEvents(r)};v.prototype.updateEvents=
function(b){var c=this.chart;l(b.enableDoubleClickZoom,b.enabled)||b.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||h(c.container,"dblclick",function(b){c.pointer.onContainerDblClick(b)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick());l(b.enableMouseWheelZoom,b.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||h(c.container,void 0!==p.onwheel?"wheel":void 0!==p.onmousewheel?"mousewheel":"DOMMouseScroll",function(b){c.pointer.inClass(b.target,"highcharts-no-mousewheel")||
(c.pointer.onContainerMouseWheel(b),f(b));return!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())};d(a.prototype,{fitToBox:function(b,c){[["x","width"],["y","height"]].forEach(function(a){var d=a[0];a=a[1];b[d]+b[a]>c[d]+c[a]&&(b[a]>c[a]?(b[a]=c[a],b[d]=c[d]):b[d]=c[d]+c[a]-b[a]);b[a]>c[a]&&(b[a]=c[a]);b[d]<c[d]&&(b[d]=c[d])});return b},mapZoom:function(b,c,a,d,h,g){var r=this.xAxis[0],t=r.max-r.min,f=l(c,r.min+t/2),e=t*b;t=this.yAxis[0];var m=t.max-t.min,u=l(a,t.min+m/2);
m*=b;f=this.fitToBox({x:f-e*(d?(d-r.pos)/r.len:.5),y:u-m*(h?(h-t.pos)/t.len:.5),width:e,height:m},{x:r.dataMin,y:t.dataMin,width:r.dataMax-r.dataMin,height:t.dataMax-t.dataMin});e=f.x<=r.dataMin&&f.width>=r.dataMax-r.dataMin&&f.y<=t.dataMin&&f.height>=t.dataMax-t.dataMin;d&&r.mapAxis&&(r.mapAxis.fixTo=[d-r.pos,c]);h&&t.mapAxis&&(t.mapAxis.fixTo=[h-t.pos,a]);"undefined"===typeof b||e?(r.setExtremes(void 0,void 0,!1),t.setExtremes(void 0,void 0,!1)):(r.setExtremes(f.x,f.x+f.width,!1),t.setExtremes(f.y,
f.y+f.height,!1));this.redraw(g)}});h(a,"beforeRender",function(){this.mapNavigation=new v(this);this.mapNavigation.update()});k.MapNavigation=v});x(a,"Maps/MapPointer.js",[a["Core/Pointer.js"],a["Core/Utilities.js"]],function(a,k){var f=k.extend,n=k.pick;k=k.wrap;var v=0,p;f(a.prototype,{onContainerDblClick:function(a){var d=this.chart;a=this.normalize(a);d.options.mapNavigation.enableDoubleClickZoomTo?d.pointer.inClass(a.target,"highcharts-tracker")&&d.hoverPoint&&d.hoverPoint.zoomTo():d.isInsidePlot(a.chartX-
d.plotLeft,a.chartY-d.plotTop)&&d.mapZoom(.5,d.xAxis[0].toValue(a.chartX),d.yAxis[0].toValue(a.chartY),a.chartX,a.chartY)},onContainerMouseWheel:function(a){var d=this.chart;a=this.normalize(a);var g=a.deltaY||a.detail||-(a.wheelDelta/120);1<=Math.abs(g)&&(v+=Math.abs(g),p&&clearTimeout(p),p=setTimeout(function(){v=0},50));10>v&&d.isInsidePlot(a.chartX-d.plotLeft,a.chartY-d.plotTop)&&d.mapZoom(Math.pow(d.options.mapNavigation.mouseWheelSensitivity,g),d.xAxis[0].toValue(a.chartX),d.yAxis[0].toValue(a.chartY),
a.chartX,a.chartY,1>Math.abs(g)?!1:void 0)}});k(a.prototype,"zoomOption",function(a){var d=this.chart.options.mapNavigation;n(d.enableTouchZoom,d.enabled)&&(this.chart.options.chart.pinchType="xy");a.apply(this,[].slice.call(arguments,1))});k(a.prototype,"pinchTranslate",function(a,d,g,c,l,b,f){a.call(this,d,g,c,l,b,f);"map"===this.chart.options.chart.type&&this.hasZoom&&(a=c.scaleX>c.scaleY,this.pinchTranslateDirection(!a,d,g,c,l,b,f,a?c.scaleX:c.scaleY))})});x(a,"Maps/MapSymbols.js",[a["Core/Renderer/SVG/SVGRenderer.js"]],
function(a){function f(a,f,k,p,h,d,g,c){return[["M",a+h,f],["L",a+k-d,f],["C",a+k-d/2,f,a+k,f+d/2,a+k,f+d],["L",a+k,f+p-g],["C",a+k,f+p-g/2,a+k-g/2,f+p,a+k-g,f+p],["L",a+c,f+p],["C",a+c/2,f+p,a,f+p-c/2,a,f+p-c],["L",a,f+h],["C",a,f+h/2,a+h/2,f,a+h,f],["Z"]]}a=a.prototype.symbols;a.bottombutton=function(a,k,v,p,h){h=h&&h.r||0;return f(a-1,k-1,v,p,0,0,h,h)};a.topbutton=function(a,k,v,p,h){h=h&&h.r||0;return f(a-1,k-1,v,p,h,h,0,0)};return a});x(a,"Core/Chart/MapChart.js",[a["Core/Chart/Chart.js"],a["Core/DefaultOptions.js"],
a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(a,k,q,n){var f=this&&this.__extends||function(){var a=function(c,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return a(c,d)};return function(c,d){function b(){this.constructor=c}a(c,d);c.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b)}}(),p=k.getOptions,h=n.merge,d=n.pick;a=function(a){function c(){return null!==
a&&a.apply(this,arguments)||this}f(c,a);c.prototype.init=function(c,b){var l={endOnTick:!1,visible:!1,minPadding:0,maxPadding:0,startOnTick:!1},g=p().credits;c=h({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:d(g.mapText,' \u00a9 <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:d(g.mapTextFull,"{geojson.copyright}")},tooltip:{followTouchMove:!1},xAxis:l,yAxis:h(l,{reversed:!0})},c,{chart:{inverted:!1,alignTicks:!1}});a.prototype.init.call(this,c,b)};
return c}(a);(function(a){a.maps={};a.mapChart=function(c,d,b){return new a(c,d,b)};a.splitPath=function(a){"string"===typeof a&&(a=a.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,""),a=a.split(/[ ,;]+/).map(function(a){return/[A-za-z]/.test(a)?a:parseFloat(a)}));return q.prototype.pathToSegments(a)}})(a||(a={}));return a});x(a,"Series/Map/MapPoint.js",[a["Mixins/ColorMapSeries.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,k,q){var f=this&&this.__extends||
function(){var a=function(h,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])};return a(h,d)};return function(h,d){function g(){this.constructor=h}a(h,d);h.prototype=null===d?Object.create(d):(g.prototype=d.prototype,new g)}}();a=a.colorMapPointMixin;var v=q.extend;k=function(a){function h(){var d=null!==a&&a.apply(this,arguments)||this;d.options=void 0;d.path=void 0;d.series=void 0;return d}f(h,
a);h.prototype.applyOptions=function(d,g){var c=this.series;d=a.prototype.applyOptions.call(this,d,g);g=c.joinBy;c.mapData&&c.mapMap&&(g=a.prototype.getNestedProperty.call(d,g[1]),(g="undefined"!==typeof g&&c.mapMap[g])?(c.xyFromShape&&(d.x=g._midX,d.y=g._midY),v(d,g)):d.value=d.value||null);return d};h.prototype.onMouseOver=function(d){q.clearTimeout(this.colorInterval);if(null!==this.value||this.series.options.nullInteraction)a.prototype.onMouseOver.call(this,d);else this.series.onMouseOut(d)};
h.prototype.zoomTo=function(){var a=this.series;a.xAxis.setExtremes(this._minX,this._maxX,!1);a.yAxis.setExtremes(this._minY,this._maxY,!1);a.chart.redraw()};return h}(k.seriesTypes.scatter.prototype.pointClass);v(k.prototype,{dataLabelOnNull:a.dataLabelOnNull,isValid:a.isValid,moveToTopOnHover:a.moveToTopOnHover});return k});x(a,"Series/Map/MapSeries.js",[a["Mixins/ColorMapSeries.js"],a["Core/Globals.js"],a["Core/Legend/LegendSymbol.js"],a["Core/Chart/MapChart.js"],a["Series/Map/MapPoint.js"],a["Core/Color/Palette.js"],
a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(a,k,q,n,v,p,h,d,g,c){var l=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,
new d)}}();a=a.colorMapSeriesMixin;var b=k.noop,f=n.maps,r=n.splitPath;n=d.seriesTypes;var w=n.column,E=n.scatter;n=c.extend;var C=c.fireEvent,y=c.getNestedProperty,t=c.isArray,D=c.isNumber,e=c.merge,m=c.objectEach,u=c.pick,B=c.splat;c=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.baseTrans=void 0;b.chart=void 0;b.data=void 0;b.group=void 0;b.joinBy=void 0;b.options=void 0;b.points=void 0;b.transformGroup=void 0;return b}l(b,a);b.prototype.animate=function(a){var b=this.options.animation,
c=this.group,d=this.xAxis,e=this.yAxis,m=d.pos,l=e.pos;this.chart.renderer.isSVG&&(!0===b&&(b={duration:1E3}),a?c.attr({translateX:m+d.len/2,translateY:l+e.len/2,scaleX:.001,scaleY:.001}):c.animate({translateX:m,translateY:l,scaleX:1,scaleY:1},b))};b.prototype.animateDrilldown=function(a){var b=this.chart.plotBox,c=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],d=c.bBox,e=this.chart.options.drilldown.animation;a||(a=Math.min(d.width/b.width,d.height/b.height),c.shapeArgs={scaleX:a,
scaleY:a,translateX:d.x,translateY:d.y},this.points.forEach(function(a){a.graphic&&a.graphic.attr(c.shapeArgs).animate({scaleX:1,scaleY:1,translateX:0,translateY:0},e)}))};b.prototype.animateDrillupFrom=function(a){w.prototype.animateDrillupFrom.call(this,a)};b.prototype.animateDrillupTo=function(a){w.prototype.animateDrillupTo.call(this,a)};b.prototype.doFullTranslate=function(){return this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML||!this.baseTrans};b.prototype.drawMapDataLabels=
function(){h.prototype.drawDataLabels.call(this);this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)};b.prototype.drawPoints=function(){var a=this,b=a.xAxis,c=a.yAxis,d=a.group,e=a.chart,m=e.renderer,l=this.baseTrans;a.transformGroup||(a.transformGroup=m.g().attr({scaleX:1,scaleY:1}).add(d),a.transformGroup.survive=!0);if(a.doFullTranslate())e.hasRendered&&!e.styledMode&&a.points.forEach(function(b){b.shapeArgs&&(b.shapeArgs.fill=a.pointAttribs(b,b.state).fill)}),a.group=a.transformGroup,
w.prototype.drawPoints.apply(a),a.group=d,a.points.forEach(function(b){if(b.graphic){var c="";b.name&&(c+="highcharts-name-"+b.name.replace(/ /g,"-").toLowerCase());b.properties&&b.properties["hc-key"]&&(c+=" highcharts-key-"+b.properties["hc-key"].toLowerCase());c&&b.graphic.addClass(c);e.styledMode&&b.graphic.css(a.pointAttribs(b,b.selected&&"select"||void 0))}}),this.baseTrans={originX:b.min-b.minPixelPadding/b.transA,originY:c.min-c.minPixelPadding/c.transA+(c.reversed?0:c.len/c.transA),transAX:b.transA,
transAY:c.transA},this.transformGroup.animate({translateX:0,translateY:0,scaleX:1,scaleY:1});else{var g=b.transA/l.transAX;var h=c.transA/l.transAY;var f=b.toPixels(l.originX,!0);var r=c.toPixels(l.originY,!0);.99<g&&1.01>g&&.99<h&&1.01>h&&(h=g=1,f=Math.round(f),r=Math.round(r));var t=this.transformGroup;if(e.renderer.globalAnimation){var k=t.attr("translateX");var y=t.attr("translateY");var B=t.attr("scaleX");var A=t.attr("scaleY");t.attr({animator:0}).animate({animator:1},{step:function(a,b){t.attr({translateX:k+
(f-k)*b.pos,translateY:y+(r-y)*b.pos,scaleX:B+(g-B)*b.pos,scaleY:A+(h-A)*b.pos})}})}else t.attr({translateX:f,translateY:r,scaleX:g,scaleY:h})}e.styledMode||d.element.setAttribute("stroke-width",u(a.options[a.pointAttrToOptions&&a.pointAttrToOptions["stroke-width"]||"borderWidth"],1)/(g||1));this.drawMapDataLabels()};b.prototype.getBox=function(a){var b=Number.MAX_VALUE,c=-b,d=b,e=-b,m=b,l=b,h=this.xAxis,f=this.yAxis,t;(a||[]).forEach(function(a){if(a.path){"string"===typeof a.path?a.path=r(a.path):
"M"===a.path[0]&&(a.path=g.prototype.pathToSegments(a.path));var h=a.path||[],f=-b,w=b,z=-b,k=b,y=a.properties;a._foundBox||(h.forEach(function(a){var b=a[a.length-2];a=a[a.length-1];"number"===typeof b&&"number"===typeof a&&(w=Math.min(w,b),f=Math.max(f,b),k=Math.min(k,a),z=Math.max(z,a))}),a._midX=w+(f-w)*u(a.middleX,y&&y["hc-middle-x"],.5),a._midY=k+(z-k)*u(a.middleY,y&&y["hc-middle-y"],.5),a._maxX=f,a._minX=w,a._maxY=z,a._minY=k,a.labelrank=u(a.labelrank,(f-w)*(z-k)),a._foundBox=!0);c=Math.max(c,
a._maxX);d=Math.min(d,a._minX);e=Math.max(e,a._maxY);m=Math.min(m,a._minY);l=Math.min(a._maxX-a._minX,a._maxY-a._minY,l);t=!0}});t&&(this.minY=Math.min(m,u(this.minY,b)),this.maxY=Math.max(e,u(this.maxY,-b)),this.minX=Math.min(d,u(this.minX,b)),this.maxX=Math.max(c,u(this.maxX,-b)),h&&"undefined"===typeof h.options.minRange&&(h.minRange=Math.min(5*l,(this.maxX-this.minX)/5,h.minRange||b)),f&&"undefined"===typeof f.options.minRange&&(f.minRange=Math.min(5*l,(this.maxY-this.minY)/5,f.minRange||b)))};
b.prototype.getExtremes=function(){var a=h.prototype.getExtremes.call(this,this.valueData),b=a.dataMin;a=a.dataMax;this.chart.hasRendered&&this.isDirtyData&&this.getBox(this.options.data);D(b)&&(this.valueMin=b);D(a)&&(this.valueMax=a);return{dataMin:this.minY,dataMax:this.maxY}};b.prototype.hasData=function(){return!!this.processedXData.length};b.prototype.pointAttribs=function(a,b){b=a.series.chart.styledMode?this.colorAttribs(a):w.prototype.pointAttribs.call(this,a,b);b["stroke-width"]=u(a.options[this.pointAttrToOptions&&
this.pointAttrToOptions["stroke-width"]||"borderWidth"],"inherit");return b};b.prototype.render=function(){var a=this,b=h.prototype.render;a.chart.renderer.isVML&&3E3<a.data.length?setTimeout(function(){b.call(a)}):b.call(a)};b.prototype.setData=function(a,b,c,d){var l=this.options,g=this.chart.options.chart,u=g&&g.map,r=l.mapData,w=this.joinBy,z=l.keys||this.pointArrayMap,B=[],A={},p=this.chart.mapTransforms;!r&&u&&(r="string"===typeof u?f[u]:u);a&&a.forEach(function(b,c){var d=0;if(D(b))a[c]={value:b};
else if(t(b)){a[c]={};!l.keys&&b.length>z.length&&"string"===typeof b[0]&&(a[c]["hc-key"]=b[0],++d);for(var e=0;e<z.length;++e,++d)z[e]&&"undefined"!==typeof b[d]&&(0<z[e].indexOf(".")?v.prototype.setNestedProperty(a[c],b[d],z[e]):a[c][z[e]]=b[d])}w&&"_i"===w[0]&&(a[c]._i=c)});this.getBox(a);(this.chart.mapTransforms=p=g.mapTransforms||r&&r["hc-transform"]||p)&&m(p,function(a){a.rotation&&(a.cosAngle=Math.cos(a.rotation),a.sinAngle=Math.sin(a.rotation))});if(r){"FeatureCollection"===r.type&&(this.mapTitle=
r.title,r=k.geojson(r,this.type,this));this.mapData=r;this.mapMap={};for(p=0;p<r.length;p++)g=r[p],u=g.properties,g._i=p,w[0]&&u&&u[w[0]]&&(g[w[0]]=u[w[0]]),A[g[w[0]]]=g;this.mapMap=A;if(a&&w[1]){var n=w[1];a.forEach(function(a){a=y(n,a);A[a]&&B.push(A[a])})}if(l.allAreas){this.getBox(r);a=a||[];if(w[1]){var q=w[1];a.forEach(function(a){B.push(y(q,a))})}B="|"+B.map(function(a){return a&&a[w[0]]}).join("|")+"|";r.forEach(function(b){w[0]&&-1!==B.indexOf("|"+b[w[0]]+"|")||(a.push(e(b,{value:null})),
d=!1)})}else this.getBox(B)}h.prototype.setData.call(this,a,b,c,d)};b.prototype.setOptions=function(a){a=h.prototype.setOptions.call(this,a);var b=a.joinBy;null===b&&(b="_i");b=this.joinBy=B(b);b[1]||(b[1]=b[0]);return a};b.prototype.translate=function(){var a=this,b=a.xAxis,c=a.yAxis,d=a.doFullTranslate();a.generatePoints();a.data.forEach(function(e){D(e._midX)&&D(e._midY)&&(e.plotX=b.toPixels(e._midX,!0),e.plotY=c.toPixels(e._midY,!0));d&&(e.shapeType="path",e.shapeArgs={d:a.translatePath(e.path)})});
C(a,"afterTranslate")};b.prototype.translatePath=function(a){var b=this.xAxis,c=this.yAxis,d=b.min,e=b.transA,m=b.minPixelPadding,l=c.min,g=c.transA,h=c.minPixelPadding,u=[];a&&a.forEach(function(a){"M"===a[0]?u.push(["M",(a[1]-(d||0))*e+m,(a[2]-(l||0))*g+h]):"L"===a[0]?u.push(["L",(a[1]-(d||0))*e+m,(a[2]-(l||0))*g+h]):"C"===a[0]?u.push(["C",(a[1]-(d||0))*e+m,(a[2]-(l||0))*g+h,(a[3]-(d||0))*e+m,(a[4]-(l||0))*g+h,(a[5]-(d||0))*e+m,(a[6]-(l||0))*g+h]):"Q"===a[0]?u.push(["Q",(a[1]-(d||0))*e+m,(a[2]-
(l||0))*g+h,(a[3]-(d||0))*e+m,(a[4]-(l||0))*g+h]):"Z"===a[0]&&u.push(["Z"])});return u};b.defaultOptions=e(E.defaultOptions,{animation:!1,dataLabels:{crop:!1,formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.value;return D(b)?a(b,-1):""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},marker:null,nullColor:p.neutralColor3,stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:p.neutralColor20,
borderWidth:1,joinBy:"hc-key",states:{hover:{halo:null,brightness:.2},normal:{animation:!0},select:{color:p.neutralColor20},inactive:{opacity:1}}});return b}(E);n(c.prototype,{type:"map",axisTypes:a.axisTypes,colorAttribs:a.colorAttribs,colorKey:a.colorKey,directTouch:!0,drawDataLabels:b,drawGraph:b,drawLegendSymbol:q.drawRectangle,forceDL:!0,getExtremesFromAll:!0,getSymbol:a.getSymbol,parallelArrays:a.parallelArrays,pointArrayMap:a.pointArrayMap,pointClass:v,preserveAspectRatio:!0,searchPoint:b,
trackerGroups:a.trackerGroups,useMapGeometry:!0});d.registerSeriesType("map",c);"";return c});x(a,"Series/MapLine/MapLineSeries.js",[a["Series/Map/MapSeries.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,k,q){var f=this&&this.__extends||function(){var a=function(d,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(d,c)};return function(d,c){function l(){this.constructor=
d}a(d,c);d.prototype=null===c?Object.create(c):(l.prototype=c.prototype,new l)}}(),v=k.series,p=q.extend,h=q.merge;q=function(d){function g(){var a=null!==d&&d.apply(this,arguments)||this;a.data=void 0;a.options=void 0;a.points=void 0;return a}f(g,d);g.prototype.pointAttribs=function(c,d){c=a.prototype.pointAttribs.call(this,c,d);c.fill=this.options.fillColor;return c};g.defaultOptions=h(a.defaultOptions,{lineWidth:1,fillColor:"none"});return g}(a);p(q.prototype,{type:"mapline",colorProp:"stroke",
drawLegendSymbol:v.prototype.drawLegendSymbol,pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}});k.registerSeriesType("mapline",q);"";return q});x(a,"Series/MapPoint/MapPointPoint.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,k){var f=this&&this.__extends||function(){var a=function(f,h){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,g){a.__proto__=g}||function(a,g){for(var c in g)g.hasOwnProperty(c)&&(a[c]=g[c])};return a(f,h)};return function(f,
h){function d(){this.constructor=f}a(f,h);f.prototype=null===h?Object.create(h):(d.prototype=h.prototype,new d)}}(),n=k.merge;return function(a){function k(){var h=null!==a&&a.apply(this,arguments)||this;h.options=void 0;h.series=void 0;return h}f(k,a);k.prototype.applyOptions=function(h,d){h="undefined"!==typeof h.lat&&"undefined"!==typeof h.lon?n(h,this.series.chart.fromLatLonToPoint(h)):h;return a.prototype.applyOptions.call(this,h,d)};return k}(a.seriesTypes.scatter.prototype.pointClass)});x(a,
"Series/MapPoint/MapPointSeries.js",[a["Series/MapPoint/MapPointPoint.js"],a["Core/Color/Palette.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,k,q,n){var f=this&&this.__extends||function(){var a=function(c,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return a(c,d)};return function(c,d){function b(){this.constructor=c}a(c,d);c.prototype=null===d?Object.create(d):
(b.prototype=d.prototype,new b)}}(),p=q.seriesTypes.scatter,h=n.extend,d=n.merge;n=function(a){function c(){var c=null!==a&&a.apply(this,arguments)||this;c.data=void 0;c.options=void 0;c.points=void 0;return c}f(c,a);c.prototype.drawDataLabels=function(){a.prototype.drawDataLabels.call(this);this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)};c.defaultOptions=d(p.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:k.neutralColor100}}});
return c}(p);h(n.prototype,{type:"mappoint",forceDL:!0,pointClass:a});q.registerSeriesType("mappoint",n);"";return n});x(a,"Series/Bubble/BubbleLegendDefaults.js",[a["Core/Color/Palette.js"]],function(a){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"10px",color:a.neutralColor100},
x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}});x(a,"Series/Bubble/BubbleLegendItem.js",[a["Core/Color/Color.js"],a["Core/FormatUtilities.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,k,q,n){var f=a.parse,p=q.noop,h=n.arrayMax,d=n.arrayMin,g=n.isNumber,c=n.merge,l=n.pick,b=n.stableSort;"";return function(){function a(a,b){this.options=this.symbols=this.visible=
this.selected=this.ranges=this.movementX=this.maxLabel=this.legendSymbol=this.legendItemWidth=this.legendItemHeight=this.legendItem=this.legendGroup=this.legend=this.fontMetrics=this.chart=void 0;this.setState=p;this.init(a,b)}a.prototype.init=function(a,b){this.options=a;this.visible=!0;this.chart=b.chart;this.legend=b};a.prototype.addToLegend=function(a){a.splice(this.options.legendIndex,0,this)};a.prototype.drawLegendSymbol=function(a){var c=this.chart,d=this.options,h=l(a.options.itemDistance,
20),f=d.ranges,r=d.connectorDistance;this.fontMetrics=c.renderer.fontMetrics(d.labels.style.fontSize);f&&f.length&&g(f[0].value)?(b(f,function(a,b){return b.value-a.value}),this.ranges=f,this.setOptions(),this.render(),a=this.getMaxLabelSize(),f=this.ranges[0].radius,c=2*f,r=r-f+a.width,r=0<r?r:0,this.maxLabel=a,this.movementX="left"===d.labels.align?r:0,this.legendItemWidth=c+r+h,this.legendItemHeight=c+this.fontMetrics.h/2):a.options.bubbleLegend.autoRanges=!0};a.prototype.setOptions=function(){var a=
this.ranges,b=this.options,d=this.chart.series[b.seriesIndex],h=this.legend.baseline,g={zIndex:b.zIndex,"stroke-width":b.borderWidth},t={zIndex:b.zIndex,"stroke-width":b.connectorWidth},k={align:this.legend.options.rtl||"left"===b.labels.align?"right":"left",zIndex:b.zIndex},e=d.options.marker.fillOpacity,m=this.chart.styledMode;a.forEach(function(u,r){m||(g.stroke=l(u.borderColor,b.borderColor,d.color),g.fill=l(u.color,b.color,1!==e?f(d.color).setOpacity(e).get("rgba"):d.color),t.stroke=l(u.connectorColor,
b.connectorColor,d.color));a[r].radius=this.getRangeRadius(u.value);a[r]=c(a[r],{center:a[0].radius-a[r].radius+h});m||c(!0,a[r],{bubbleAttribs:c(g),connectorAttribs:c(t),labelAttribs:k})},this)};a.prototype.getRangeRadius=function(a){var b=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,b.ranges[b.ranges.length-1].value,b.ranges[0].value,b.minSize,b.maxSize,a)};a.prototype.render=function(){var a=this.chart.renderer,b=this.options.zThreshold;this.symbols||(this.symbols=
{connectors:[],bubbleItems:[],labels:[]});this.legendSymbol=a.g("bubble-legend");this.legendItem=a.g("bubble-legend-item");this.legendSymbol.translateX=0;this.legendSymbol.translateY=0;this.ranges.forEach(function(a){a.value>=b&&this.renderRange(a)},this);this.legendSymbol.add(this.legendItem);this.legendItem.add(this.legendGroup);this.hideOverlappingLabels()};a.prototype.renderRange=function(a){var b=this.options,c=b.labels,d=this.chart,h=d.series[b.seriesIndex],l=d.renderer,g=this.symbols;d=g.labels;
var e=a.center,m=Math.abs(a.radius),u=b.connectorDistance||0,f=c.align,r=b.connectorWidth,k=this.ranges[0].radius||0,z=e-m-b.borderWidth/2+r/2,p=this.fontMetrics;p=p.f/2-(p.h-p.f)/2;var n=l.styledMode;u=this.legend.options.rtl||"left"===f?-u:u;"center"===f&&(u=0,b.connectorDistance=0,a.labelAttribs.align="center");f=z+b.labels.y;var q=k+u+b.labels.x;g.bubbleItems.push(l.circle(k,e+((z%1?1:.5)-(r%2?0:.5)),m).attr(n?{}:a.bubbleAttribs).addClass((n?"highcharts-color-"+h.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+
(b.className||"")).add(this.legendSymbol));g.connectors.push(l.path(l.crispLine([["M",k,z],["L",k+u,z]],b.connectorWidth)).attr(n?{}:a.connectorAttribs).addClass((n?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(b.connectorClassName||"")).add(this.legendSymbol));a=l.text(this.formatLabel(a),q,f+p).attr(n?{}:a.labelAttribs).css(n?{}:c.style).addClass("highcharts-bubble-legend-labels "+(b.labels.className||"")).add(this.legendSymbol);d.push(a);a.placed=
!0;a.alignAttr={x:q,y:f+p}};a.prototype.getMaxLabelSize=function(){var a,b;this.symbols.labels.forEach(function(c){b=c.getBBox(!0);a=a?b.width>a.width?b:a:b});return a||{}};a.prototype.formatLabel=function(a){var b=this.options,c=b.labels.formatter;b=b.labels.format;var d=this.chart.numberFormatter;return b?k.format(b,a):c?c.call(a):d(a.value,1)};a.prototype.hideOverlappingLabels=function(){var a=this.chart,b=this.symbols;!this.options.labels.allowOverlap&&b&&(a.hideOverlappingLabels(b.labels),b.labels.forEach(function(a,
c){a.newOpacity?a.newOpacity!==a.oldOpacity&&b.connectors[c].show():b.connectors[c].hide()}))};a.prototype.getRanges=function(){var a=this.legend.bubbleLegend,b=a.options.ranges,f,k=Number.MAX_VALUE,y=-Number.MAX_VALUE;a.chart.series.forEach(function(a){a.isBubble&&!a.ignoreSeries&&(f=a.zData.filter(g),f.length&&(k=l(a.options.zMin,Math.min(k,Math.max(d(f),!1===a.options.displayNegative?a.options.zThreshold:-Number.MAX_VALUE))),y=l(a.options.zMax,Math.max(y,h(f)))))});var t=k===y?[{value:y}]:[{value:k},
{value:(k+y)/2},{value:y,autoRanges:!0}];b.length&&b[0].radius&&t.reverse();t.forEach(function(a,d){b&&b[d]&&(t[d]=c(b[d],a))});return t};a.prototype.predictBubbleSizes=function(){var a=this.chart,b=this.fontMetrics,c=a.legend.options,d="horizontal"===c.layout,l=d?a.legend.lastLineHeight:0,h=a.plotSizeX,g=a.plotSizeY,e=a.series[this.options.seriesIndex];a=Math.ceil(e.minPxSize);var m=Math.ceil(e.maxPxSize),f=Math.min(g,h);e=e.options.maxSize;if(c.floating||!/%$/.test(e))b=m;else if(e=parseFloat(e),
b=(f+l-b.h/2)*e/100/(e/100+1),d&&g-b>=h||!d&&h-b>=g)b=m;return[a,Math.ceil(b)]};a.prototype.updateRanges=function(a,b){var c=this.legend.options.bubbleLegend;c.minSize=a;c.maxSize=b;c.ranges=this.getRanges()};a.prototype.correctSizes=function(){var a=this.legend,b=this.chart.series[this.options.seriesIndex];1<Math.abs(Math.ceil(b.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,b.maxPxSize),a.render())};return a}()});x(a,"Series/Bubble/BubbleLegendComposition.js",[a["Series/Bubble/BubbleLegendDefaults.js"],
a["Series/Bubble/BubbleLegendItem.js"],a["Core/DefaultOptions.js"],a["Core/Utilities.js"]],function(a,k,q,n){var f=q.setOptions,p=n.addEvent,h=n.objectEach,d=n.wrap,g;(function(c){function l(a,c,d){var e=this.legend,m=0<=b(this);if(e&&e.options.enabled&&e.bubbleLegend&&e.options.bubbleLegend.autoRanges&&m){var l=e.bubbleLegend.options;m=e.bubbleLegend.predictBubbleSizes();e.bubbleLegend.updateRanges(m[0],m[1]);l.placed||(e.group.placed=!1,e.allItems.forEach(function(a){a.legendGroup.translateY=null}));
e.render();this.getMargins();this.axes.forEach(function(a){a.visible&&a.render();l.placed||(a.setScale(),a.updateNames(),h(a.ticks,function(a){a.isNew=!0;a.isNewLabel=!0}))});l.placed=!0;this.getMargins();a.call(this,c,d);e.bubbleLegend.correctSizes();q(e,g(e))}else a.call(this,c,d),e&&e.options.enabled&&e.bubbleLegend&&(e.render(),q(e,g(e)))}function b(a){a=a.series;for(var b=0;b<a.length;){if(a[b]&&a[b].isBubble&&a[b].visible&&a[b].zData.length)return b;b++}return-1}function g(a){a=a.allItems;var b=
[],c=a.length,d,m=0;for(d=0;d<c;d++)if(a[d].legendItemHeight&&(a[d].itemHeight=a[d].legendItemHeight),a[d]===a[c-1]||a[d+1]&&a[d]._legendItemPos[1]!==a[d+1]._legendItemPos[1]){b.push({height:0});var l=b[b.length-1];for(m;m<=d;m++)a[m].itemHeight>l.height&&(l.height=a[m].itemHeight);l.step=d}return b}function r(a){var c=this.bubbleLegend,d=this.options,e=d.bubbleLegend,m=b(this.chart);c&&c.ranges&&c.ranges.length&&(e.ranges.length&&(e.autoRanges=!!e.ranges[0].autoRanges),this.destroyItem(c));0<=m&&
d.enabled&&e.enabled&&(e.seriesIndex=m,this.bubbleLegend=new k(e,this),this.bubbleLegend.addToLegend(a.allItems))}function n(){var a=this.chart,c=this.visible,d=this.chart.legend;d&&d.bubbleLegend&&(this.visible=!c,this.ignoreSeries=c,a=0<=b(a),d.bubbleLegend.visible!==a&&(d.update({bubbleLegend:{enabled:a}}),d.bubbleLegend.visible=a),this.visible=c)}function q(a,b){var c=a.options.rtl,d,m,l,g=0;a.allItems.forEach(function(a,e){d=a.legendGroup.translateX;m=a._legendItemPos[1];if((l=a.movementX)||
c&&a.ranges)l=c?d-a.options.maxSize/2:d+l,a.legendGroup.attr({translateX:l});e>b[g].step&&g++;a.legendGroup.attr({translateY:Math.round(m+b[g].height/2)});a._legendItemPos[1]=m+b[g].height/2})}var v=[];c.compose=function(b,c,g){-1===v.indexOf(b)&&(v.push(b),f({legend:{bubbleLegend:a}}),d(b.prototype,"drawChartBox",l));-1===v.indexOf(c)&&(v.push(c),p(c,"afterGetAllItems",r));-1===v.indexOf(g)&&(v.push(g),p(g,"legendItemClick",n))}})(g||(g={}));return g});x(a,"Series/Bubble/BubblePoint.js",[a["Core/Series/Point.js"],
a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,k,q){var f=this&&this.__extends||function(){var a=function(f,h){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,g){a.__proto__=g}||function(a,g){for(var c in g)g.hasOwnProperty(c)&&(a[c]=g[c])};return a(f,h)};return function(f,h){function d(){this.constructor=f}a(f,h);f.prototype=null===h?Object.create(h):(d.prototype=h.prototype,new d)}}();q=q.extend;k=function(k){function n(){var a=null!==k&&k.apply(this,arguments)||
this;a.options=void 0;a.series=void 0;return a}f(n,k);n.prototype.haloPath=function(h){return a.prototype.haloPath.call(this,0===h?0:(this.marker?this.marker.radius||0:0)+h)};return n}(k.seriesTypes.scatter.prototype.pointClass);q(k.prototype,{ttBelow:!1});return k});x(a,"Series/Bubble/BubbleSeries.js",[a["Core/Axis/Axis.js"],a["Series/Bubble/BubbleLegendComposition.js"],a["Series/Bubble/BubblePoint.js"],a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],
a["Core/Utilities.js"]],function(a,k,q,n,v,p,h,d){var g=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),c=n.parse;n=v.noop;var l=h.seriesTypes;v=l.column;var b=l.scatter,f=d.arrayMax,r=d.arrayMin,w=
d.clamp,x=d.extend,C=d.isNumber,y=d.merge,t=d.pick,D=d.pInt;d=function(a){function d(){var b=null!==a&&a.apply(this,arguments)||this;b.data=void 0;b.maxPxSize=void 0;b.minPxSize=void 0;b.options=void 0;b.points=void 0;b.radii=void 0;b.yData=void 0;b.zData=void 0;return b}g(d,a);d.prototype.animate=function(a){!a&&this.points.length<this.options.animationLimit&&this.points.forEach(function(a){var b=a.graphic;b&&b.width&&(this.hasRendered||b.attr({x:a.plotX,y:a.plotY,width:1,height:1}),b.animate(this.markerAttribs(a),
this.options.animation))},this)};d.prototype.getRadii=function(a,b,c){var d=this.zData,e=this.yData,l=c.minPxSize,g=c.maxPxSize,m=[];var h=0;for(c=d.length;h<c;h++){var f=d[h];m.push(this.getRadius(a,b,l,g,f,e[h]))}this.radii=m};d.prototype.getRadius=function(a,b,c,d,e,l){var g=this.options,m="width"!==g.sizeBy,h=g.zThreshold,f=b-a,k=.5;if(null===l||null===e)return null;if(C(e)){g.sizeByAbsoluteValue&&(e=Math.abs(e-h),f=Math.max(b-h,Math.abs(a-h)),a=0);if(e<a)return c/2-1;0<f&&(k=(e-a)/f)}m&&0<=k&&
(k=Math.sqrt(k));return Math.ceil(c+k*(d-c))/2};d.prototype.hasData=function(){return!!this.processedXData.length};d.prototype.pointAttribs=function(a,b){var d=this.options.marker.fillOpacity;a=p.prototype.pointAttribs.call(this,a,b);1!==d&&(a.fill=c(a.fill).setOpacity(d).get("rgba"));return a};d.prototype.translate=function(){var b,c=this.data,d=this.radii;a.prototype.translate.call(this);for(b=c.length;b--;){var e=c[b];var l=d?d[b]:0;C(l)&&l>=this.minPxSize/2?(e.marker=x(e.marker,{radius:l,width:2*
l,height:2*l}),e.dlBox={x:e.plotX-l,y:e.plotY-l,width:2*l,height:2*l}):e.shapeArgs=e.plotY=e.dlBox=void 0}};d.compose=k.compose;d.defaultOptions=y(b.defaultOptions,{dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.z;return C(b)?a(b,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},
tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"});return d}(b);x(d.prototype,{alignDataLabel:v.prototype.alignDataLabel,applyZones:n,bubblePadding:!0,buildKDTree:n,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:q,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"});a.prototype.beforePadding=function(){var a=this,b=this.len,c=this.chart,d=0,l=b,g=this.isXAxis,h=g?"xData":
"yData",k=this.min,n={},q=Math.min(c.plotWidth,c.plotHeight),p=Number.MAX_VALUE,A=-Number.MAX_VALUE,v=this.max-k,y=b/v,x=[];this.series.forEach(function(b){var d=b.options;!b.bubblePadding||!b.visible&&c.options.chart.ignoreHiddenSeries||(a.allowZoomOutside=!0,x.push(b),g&&(["minSize","maxSize"].forEach(function(a){var b=d[a],c=/%$/.test(b);b=D(b);n[a]=c?q*b/100:b}),b.minPxSize=n.minSize,b.maxPxSize=Math.max(n.maxSize,n.minSize),b=b.zData.filter(C),b.length&&(p=t(d.zMin,w(r(b),!1===d.displayNegative?
d.zThreshold:-Number.MAX_VALUE,p)),A=t(d.zMax,Math.max(A,f(b))))))});x.forEach(function(b){var c=b[h],e=c.length;g&&b.getRadii(p,A,b);if(0<v)for(;e--;)if(C(c[e])&&a.dataMin<=c[e]&&c[e]<=a.max){var m=b.radii?b.radii[e]:0;d=Math.min((c[e]-k)*y-m,d);l=Math.max((c[e]-k)*y+m,l)}});x.length&&0<v&&!this.logarithmic&&(l-=b,y*=(b+Math.max(0,d)-Math.min(l,b))/b,[["min","userMin",d],["max","userMax",l]].forEach(function(b){"undefined"===typeof t(a.options[b[0]],a[b[1]])&&(a[b[0]]+=b[2]/y)}))};h.registerSeriesType("bubble",
d);"";"";return d});x(a,"Series/MapBubble/MapBubblePoint.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,k){var f=this&&this.__extends||function(){var a=function(d,g){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b])};return a(d,g)};return function(d,g){function c(){this.constructor=d}a(d,g);d.prototype=null===g?Object.create(g):(c.prototype=g.prototype,new c)}}(),n=a.seriesTypes,
v=n.map;a=k.extend;var p=k.merge;k=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}f(d,a);d.prototype.applyOptions=function(d,c){return d&&"undefined"!==typeof d.lat&&"undefined"!==typeof d.lon?a.prototype.applyOptions.call(this,p(d,this.series.chart.fromLatLonToPoint(d)),c):v.prototype.pointClass.prototype.applyOptions.call(this,d,c)};d.prototype.isValid=function(){return"number"===typeof this.z};return d}(n.bubble.prototype.pointClass);a(k.prototype,{ttBelow:!1});return k});
x(a,"Series/MapBubble/MapBubbleSeries.js",[a["Series/Bubble/BubbleSeries.js"],a["Series/MapBubble/MapBubblePoint.js"],a["Series/Map/MapSeries.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,k,q,n,v){var f=this&&this.__extends||function(){var a=function(c,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return a(c,d)};return function(c,d){function b(){this.constructor=
c}a(c,d);c.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b)}}(),h=v.extend,d=v.merge;v=function(g){function c(){var a=null!==g&&g.apply(this,arguments)||this;a.data=void 0;a.options=void 0;a.points=void 0;return a}f(c,g);c.compose=a.compose;c.defaultOptions=d(a.defaultOptions,{animationLimit:500,tooltip:{pointFormat:"{point.name}: {point.z}"}});return c}(a);h(v.prototype,{type:"mapbubble",getBox:q.prototype.getBox,pointArrayMap:["z"],pointClass:k,setData:q.prototype.setData,setOptions:q.prototype.setOptions,
xyFromShape:!0});n.registerSeriesType("mapbubble",v);"";return v});x(a,"Series/Heatmap/HeatmapPoint.js",[a["Mixins/ColorMapSeries.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,k,q){var f=this&&this.__extends||function(){var a=function(d,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(d,c)};return function(d,c){function l(){this.constructor=d}a(d,c);d.prototype=
null===c?Object.create(c):(l.prototype=c.prototype,new l)}}();a=a.colorMapPointMixin;var v=q.clamp,p=q.extend,h=q.pick;k=function(a){function d(){var c=null!==a&&a.apply(this,arguments)||this;c.options=void 0;c.series=void 0;c.value=void 0;c.x=void 0;c.y=void 0;return c}f(d,a);d.prototype.applyOptions=function(c,d){c=a.prototype.applyOptions.call(this,c,d);c.formatPrefix=c.isNull||null===c.value?"null":"point";return c};d.prototype.getCellAttributes=function(){var a=this.series,d=a.options,b=(d.colsize||
1)/2,g=(d.rowsize||1)/2,f=a.xAxis,k=a.yAxis,n=this.options.marker||a.options.marker;a=a.pointPlacementToXValue();var q=h(this.pointPadding,d.pointPadding,0),p={x1:v(Math.round(f.len-(f.translate(this.x-b,!1,!0,!1,!0,-a)||0)),-f.len,2*f.len),x2:v(Math.round(f.len-(f.translate(this.x+b,!1,!0,!1,!0,-a)||0)),-f.len,2*f.len),y1:v(Math.round(k.translate(this.y-g,!1,!0,!1,!0)||0),-k.len,2*k.len),y2:v(Math.round(k.translate(this.y+g,!1,!0,!1,!0)||0),-k.len,2*k.len)};[["width","x"],["height","y"]].forEach(function(a){var b=
a[0];a=a[1];var c=a+"1",d=a+"2",l=Math.abs(p[c]-p[d]),g=n&&n.lineWidth||0,f=Math.abs(p[c]+p[d])/2;n[b]&&n[b]<l&&(p[c]=f-n[b]/2-g/2,p[d]=f+n[b]/2+g/2);q&&("y"===a&&(c=d,d=a+"1"),p[c]+=q,p[d]-=q)});return p};d.prototype.haloPath=function(a){if(!a)return[];var c=this.shapeArgs;return["M",c.x-a,c.y-a,"L",c.x-a,c.y+c.height+a,c.x+c.width+a,c.y+c.height+a,c.x+c.width+a,c.y-a,"Z"]};d.prototype.isValid=function(){return Infinity!==this.value&&-Infinity!==this.value};return d}(k.seriesTypes.scatter.prototype.pointClass);
p(k.prototype,{dataLabelOnNull:a.dataLabelOnNull,moveToTopOnHover:a.moveToTopOnHover});return k});x(a,"Series/Heatmap/HeatmapSeries.js",[a["Core/Color/Color.js"],a["Mixins/ColorMapSeries.js"],a["Series/Heatmap/HeatmapPoint.js"],a["Core/Legend/LegendSymbol.js"],a["Core/Color/Palette.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(a,k,q,n,v,p,h,d){var g=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();k=k.colorMapSeriesMixin;var c=p.series,f=p.seriesTypes,b=f.column,A=f.scatter,r=h.prototype.symbols,w=d.extend,x=d.fireEvent,C=d.isNumber,y=d.merge,t=d.pick;h=function(b){function d(){var a=null!==b&&b.apply(this,arguments)||this;a.colorAxis=void 0;a.data=
void 0;a.options=void 0;a.points=void 0;a.valueMax=NaN;a.valueMin=NaN;return a}g(d,b);d.prototype.drawPoints=function(){var a=this;if((this.options.marker||{}).enabled||this._hasPointMarkers)c.prototype.drawPoints.call(this),this.points.forEach(function(b){b.graphic&&(b.graphic[a.chart.styledMode?"css":"animate"](a.colorAttribs(b)),a.options.borderRadius&&b.graphic.attr({r:a.options.borderRadius}),null===b.value&&b.graphic.addClass("highcharts-null-point"))})};d.prototype.getExtremes=function(){var a=
c.prototype.getExtremes.call(this,this.valueData),b=a.dataMin;a=a.dataMax;C(b)&&(this.valueMin=b);C(a)&&(this.valueMax=a);return c.prototype.getExtremes.call(this)};d.prototype.getValidPoints=function(a,b){return c.prototype.getValidPoints.call(this,a,b,!0)};d.prototype.hasData=function(){return!!this.processedXData.length};d.prototype.init=function(){c.prototype.init.apply(this,arguments);var a=this.options;a.pointRange=t(a.pointRange,a.colsize||1);this.yAxis.axisPointRange=a.rowsize||1;r.ellipse=
r.circle};d.prototype.markerAttribs=function(a,b){var c=a.marker||{},d=this.options.marker||{},e=a.shapeArgs||{},f={};if(a.hasImage)return{x:a.plotX,y:a.plotY};if(b){var g=d.states[b]||{};var h=c.states&&c.states[b]||{};[["width","x"],["height","y"]].forEach(function(a){f[a[0]]=(h[a[0]]||g[a[0]]||e[a[0]])+(h[a[0]+"Plus"]||g[a[0]+"Plus"]||0);f[a[1]]=e[a[1]]+(e[a[0]]-f[a[0]])/2})}return b?f:e};d.prototype.pointAttribs=function(b,d){var e=c.prototype.pointAttribs.call(this,b,d),f=this.options||{},g=
this.chart.options.plotOptions||{},h=g.series||{},l=g.heatmap||{};g=b&&b.options.borderColor||f.borderColor||l.borderColor||h.borderColor;h=b&&b.options.borderWidth||f.borderWidth||l.borderWidth||h.borderWidth||e["stroke-width"];e.stroke=b&&b.marker&&b.marker.lineColor||f.marker&&f.marker.lineColor||g||this.color;e["stroke-width"]=h;d&&(b=y(f.states[d],f.marker&&f.marker.states[d],b&&b.options.states&&b.options.states[d]||{}),d=b.brightness,e.fill=b.color||a.parse(e.fill).brighten(d||0).get(),e.stroke=
b.lineColor);return e};d.prototype.setClip=function(a){var b=this.chart;c.prototype.setClip.apply(this,arguments);(!1!==this.options.clip||a)&&this.markerGroup.clip((a||this.clipBox)&&this.sharedClipKey?b.sharedClips[this.sharedClipKey]:b.clipRect)};d.prototype.translate=function(){var a=this.options,b=a.marker&&a.marker.symbol||"rect",c=r[b]?b:"rect",d=-1!==["circle","square"].indexOf(c);this.generatePoints();this.points.forEach(function(a){var e=a.getCellAttributes(),f={};f.x=Math.min(e.x1,e.x2);
f.y=Math.min(e.y1,e.y2);f.width=Math.max(Math.abs(e.x2-e.x1),0);f.height=Math.max(Math.abs(e.y2-e.y1),0);var g=a.hasImage=0===(a.marker&&a.marker.symbol||b||"").indexOf("url");if(d){var h=Math.abs(f.width-f.height);f.x=Math.min(e.x1,e.x2)+(f.width<f.height?0:h/2);f.y=Math.min(e.y1,e.y2)+(f.width<f.height?h/2:0);f.width=f.height=Math.min(f.width,f.height)}h={plotX:(e.x1+e.x2)/2,plotY:(e.y1+e.y2)/2,clientX:(e.x1+e.x2)/2,shapeType:"path",shapeArgs:y(!0,f,{d:r[c](f.x,f.y,f.width,f.height)})};g&&(a.marker=
{width:f.width,height:f.height});w(a,h)});x(this,"afterTranslate")};d.defaultOptions=y(A.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,nullColor:v.neutralColor3,dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.value;return C(b)?a(b,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},
states:{hover:{halo:!1,brightness:.2}}});return d}(A);w(h.prototype,{alignDataLabel:b.prototype.alignDataLabel,axisTypes:k.axisTypes,colorAttribs:k.colorAttribs,colorKey:k.colorKey,directTouch:!0,drawLegendSymbol:n.drawRectangle,getExtremesFromAll:!0,getSymbol:c.prototype.getSymbol,parallelArrays:k.parallelArrays,pointArrayMap:["y","value"],pointClass:q,trackerGroups:k.trackerGroups});p.registerSeriesType("heatmap",h);"";"";return h});x(a,"Extensions/GeoJSON.js",[a["Core/Chart/Chart.js"],a["Core/FormatUtilities.js"],
a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,k,q,n){function f(a,b){var c,d=!1,f=a.x,g=a.y;a=0;for(c=b.length-1;a<b.length;c=a++){var h=b[a][1]>g;var l=b[c][1]>g;h!==l&&f<(b[c][0]-b[a][0])*(g-b[a][1])/(b[c][1]-b[a][1])+b[a][0]&&(d=!d)}return d}var p=k.format,h=q.win,d=n.error,g=n.extend,c=n.merge;k=n.wrap;"";a.prototype.transformFromLatLon=function(a,b){var c=this.userOptions.chart&&this.userOptions.chart.proj4||h.proj4;if(!c)return d(21,!1,this),{x:0,y:null};a=c(b.crs,[a.lon,a.lat]);c=
b.cosAngle||b.rotation&&Math.cos(b.rotation);var f=b.sinAngle||b.rotation&&Math.sin(b.rotation);a=b.rotation?[a[0]*c+a[1]*f,-a[0]*f+a[1]*c]:a;return{x:((a[0]-(b.xoffset||0))*(b.scale||1)+(b.xpan||0))*(b.jsonres||1)+(b.jsonmarginX||0),y:(((b.yoffset||0)-a[1])*(b.scale||1)+(b.ypan||0))*(b.jsonres||1)-(b.jsonmarginY||0)}};a.prototype.transformToLatLon=function(a,b){if("undefined"===typeof h.proj4)d(21,!1,this);else{a={x:((a.x-(b.jsonmarginX||0))/(b.jsonres||1)-(b.xpan||0))/(b.scale||1)+(b.xoffset||0),
y:((-a.y-(b.jsonmarginY||0))/(b.jsonres||1)+(b.ypan||0))/(b.scale||1)+(b.yoffset||0)};var c=b.cosAngle||b.rotation&&Math.cos(b.rotation),f=b.sinAngle||b.rotation&&Math.sin(b.rotation);b=h.proj4(b.crs,"WGS84",b.rotation?{x:a.x*c+a.y*-f,y:a.x*f+a.y*c}:a);return{lat:b.y,lon:b.x}}};a.prototype.fromPointToLatLon=function(a){var b=this.mapTransforms,c;if(b){for(c in b)if(Object.hasOwnProperty.call(b,c)&&b[c].hitZone&&f({x:a.x,y:-a.y},b[c].hitZone.coordinates[0]))return this.transformToLatLon(a,b[c]);return this.transformToLatLon(a,
b["default"])}d(22,!1,this)};a.prototype.fromLatLonToPoint=function(a){var b=this.mapTransforms,c;if(!b)return d(22,!1,this),{x:0,y:null};for(c in b)if(Object.hasOwnProperty.call(b,c)&&b[c].hitZone){var g=this.transformFromLatLon(a,b[c]);if(f({x:g.x,y:-g.y},b[c].hitZone.coordinates[0]))return g}return this.transformFromLatLon(a,b["default"])};q.geojson=function(a,b,c){var d=[],f=[],h=function(a){a.forEach(function(a,b){0===b?f.push(["M",a[0],-a[1]]):f.push(["L",a[0],-a[1]])})};b=b||"map";a.features.forEach(function(a){var c=
a.geometry,k=c.type;c=c.coordinates;a=a.properties;var l;f=[];"map"===b||"mapbubble"===b?("Polygon"===k?(c.forEach(h),f.push(["Z"])):"MultiPolygon"===k&&(c.forEach(function(a){a.forEach(h)}),f.push(["Z"])),f.length&&(l={path:f})):"mapline"===b?("LineString"===k?h(c):"MultiLineString"===k&&c.forEach(h),f.length&&(l={path:f})):"mappoint"===b&&"Point"===k&&(l={x:c[0],y:-c[1]});l&&d.push(g(l,{name:a.name||a.NAME,properties:a}))});c&&a.copyrightShort&&(c.chart.mapCredits=p(c.chart.options.credits.mapText,
{geojson:a}),c.chart.mapCreditsFull=p(c.chart.options.credits.mapTextFull,{geojson:a}));return d};k(a.prototype,"addCredits",function(a,b){b=c(!0,this.options.credits,b);this.mapCredits&&(b.href=null);a.call(this,b);this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})})});x(a,"masters/modules/map.src.js",[a["Core/Globals.js"],a["Core/Axis/Color/ColorAxis.js"],a["Series/MapBubble/MapBubbleSeries.js"],a["Core/Chart/MapChart.js"]],function(a,k,q,n){a.ColorAxis=k;a.MapChart=
n;a.mapChart=a.Map=n.mapChart;a.maps=n.maps;k.compose(a.Chart,a.Fx,a.Legend,a.Series);q.compose(a.Chart,a.Legend,a.Series)})});
//# sourceMappingURL=map.js.map